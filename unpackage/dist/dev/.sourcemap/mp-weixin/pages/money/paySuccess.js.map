{"version":3,"sources":["webpack:///X:/yumo27/uni-app/hangfengsc-app/components/jsencrypt/jsencrypt.vue?f4db","webpack:///X:/yumo27/uni-app/hangfengsc-app/components/jsencrypt/jsencrypt.vue?dd31","webpack:///X:/yumo27/uni-app/hangfengsc-app/components/jsencrypt/jsencrypt.vue?879b","webpack:///X:/yumo27/uni-app/hangfengsc-app/components/jsencrypt/jsencrypt.vue?0d66","uni-app:///components/jsencrypt/jsencrypt.vue","uni-app:///main.js","webpack:///X:/yumo27/uni-app/hangfengsc-app/pages/money/paySuccess.vue?7236","webpack:///X:/yumo27/uni-app/hangfengsc-app/pages/money/paySuccess.vue?58cc","webpack:///X:/yumo27/uni-app/hangfengsc-app/pages/money/paySuccess.vue?8ac8","webpack:///X:/yumo27/uni-app/hangfengsc-app/pages/money/paySuccess.vue?cc8b","uni-app:///pages/money/paySuccess.vue","webpack:///X:/yumo27/uni-app/hangfengsc-app/pages/money/paySuccess.vue?5d59"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","createPage","Page","uMask","e","message","indexOf","console","error","_isMounted","e0","$event","show","e1"],"mappings":";;;;2DAAA,sNACIA,EADJ,iHAQIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,qCACZ,aAAAF,E;;;;2GCtBf,szB;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,0eAAkyB,eAAG,G;;;;6HCOryB,yC,yDACA,CACA,KADA,WAEA,UAIA,WAGA,uBACA,+CAGA,+BACA,SAEA,4BACA,uCAEA,4BACA,4BACA,SAEA,IADA,oCACA,mBACA,kBAIA,gCAIA,UAEA,yBACA,oBAGA,OAFA,kBAEA,cAEA,6BACA,iCACA,uCAEA,IADA,SACA,oBACA,4BAEA,SAGA,IADA,oCACA,mBACA,kBAIA,gCAIA,UAEA,8BAEA,IADA,SACA,mBACA,2BAEA,UAEA,yBACA,oBAGA,OAFA,mBAEA,e;;;;wEChFA,qBACA,sBACA,+C,mDACAC,EAAWC,a;;;;2DCHX,wRACIhB,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,6BACZ,aAAAF,E;;;;2GCvBf,uzB;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXa,MAAO,WACL,OAAO,oKAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIjB,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIiB,aACPjB,EAAIkB,GAAK,SAASC,GAChBnB,EAAIoB,MAAO,GAGbpB,EAAIqB,GAAK,SAASF,GAChBnB,EAAIoB,MAAO,KAIbd,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DC1CvB,2eAAmyB,eAAG,G;;;;wMCyBtyB,6BAEA,uDACA,2D,omBACA,CACA,KADA,WAEA,OACA,WACA,aACA,gBACA,QACA,OACA,WACA,YAGA,iCACA,OAbA,SAaA,mIACA,mCACA,gCACA,gCAHA,UAKA,cACA,2BACA,aACA,SACA,2DAEA,kBACA,gBACA,oBACA,yBACA,wBACA,eACA,2BACA,gBACA,uBAEA,mBACA,kBAtBA,4DAyBA,SACA,MADA,SACA,uIACA,oCACA,mCACA,EAHA,uBAIA,UAJA,0BAOA,OAmDA,OAsEA,QACA,SACA,0CAlIA,8CAwIA,QAzIA,SAyIA,KAGA,2BAEA,IAEA,8BAEA,6EAEA,UAEA,kBAEA,mCAKA,UAGA,UAhKA,SAgKA,GAGA,kBAIA,4BAIA,OAFA,eAEA,GAEA,aA7KA,SA6KA,GAEA,mBAIA,oBAIA,OAFA,eAEA,GAEA,aAzLA,SAyLA,2IACA,eACA,uBACA,4BACA,2CACA,GACA,mBACA,mBACA,2BAEA,+BACA,oCACA,eAZA,WAaA,cACA,wBACA,cACA,SACA,yDAEA,MACA,mBACA,mBACA,0BACA,UAEA,kBACA,gBACA,oBACA,aACA,eAEA,uBACA,aACA,2BAEA,MACA,eACA,2BACA,gBACA,uBAEA,mBACA,kBA1CA,gE;;;;2DC5PA,20BAAi7C,eAAG,G","file":"pages/money/paySuccess.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./jsencrypt.vue?vue&type=template&id=5b4e7c3e&\"\nvar renderjs\nimport script from \"./jsencrypt.vue?vue&type=script&lang=js&\"\nexport * from \"./jsencrypt.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/jsencrypt/jsencrypt.vue\"\nexport default component.exports","export * from \"-!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./jsencrypt.vue?vue&type=template&id=5b4e7c3e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./jsencrypt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./jsencrypt.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t\n\t</view>\n</template>\n\n<script>\r\n\timport JSEncrypt from './jsencrypt.min.js';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t\n\t\t},\r\n\t\tgetRealLen:function(str) {\r\n\t\t    return str.replace(/[^\\x00-\\xff]/g, '__').length;\r\n\t\t\t\r\n\t\t},\r\n\t\tsetEncryptList:function(publicKey,str,max) {\r\n\t\t\tvar arr=[]\r\n\t\t    \r\n\t\t    var s=str,reg=/.{40}/g,ppstr=s.match(reg);\r\n\t\t    ppstr.push(s.substring(ppstr.join('').length));\r\n\t\t\t\r\n\t\t    for (var nux=0;nux<ppstr.length;nux++) {\r\n\t\t    \tvar Nax=this.getRealLen(ppstr[nux]);\r\n\t\t\t\tif(Nax>116){\r\n\t\t\t\t\tvar list=this.setEncryptList(publicKey,ppstr[nux],Nax)\r\n\t\t\t\t\t for (var nu=0;nu<list.length;nu++) {\r\n\t\t\t\t\t\t arr.push(list[nu]);\r\n\t\t\t\t\t }\r\n\t\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\t\tarr.push(this.setEncrypt(publicKey,ppstr[nux]));\r\n\t\t\t\t}\r\n\t\t    \r\n\t\t    }\r\n\t\t\treturn arr;\r\n\t\t},\t\t\r\n\t\tsetEncrypt:function(publicKey,data){\r\n\t\t\t\tconst encrypt =new JSEncrypt();\r\n\t\t\t\tencrypt.setPublicKey(publicKey);\r\n\t\t\r\n\t\t\t\treturn encrypt.encrypt(data);\r\n\t\t},\r\n\t\tsetLongEncrypt:function(publicKey,data){\r\n\t\t\tvar s=data,reg=/.{116}/g,rs=s.match(reg);\r\n\t\t\trs.push(s.substring(rs.join('').length));\r\n\t\t\tvar arr=[];\r\n\t\t\tfor (var n=0;n<rs.length;n++) {\r\n\t\t\t\tvar max=this.getRealLen(rs[n]);\r\n\t\t\t\t\r\n\t\t\t\tif(max>116){\r\n\t\t\t\t\r\n\t\t\t\t\tvar list=this.setEncryptList(publicKey,rs[n],max)\r\n\t\t\t\t\t for (var nu=0;nu<list.length;nu++) {\r\n\t\t\t\t\t\t arr.push(list[nu]);\r\n\t\t\t\t\t }\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t\tarr.push(this.setEncrypt(publicKey,rs[n]));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t},\r\n\t\tsetDecryptArray:function(PrivateKey,ArrayData){\r\n\t\t\tvar Decrypt=\"\";\r\n\t\t\tfor (var n=0;n<ArrayData.length;n++) {\r\n\t\t\t\tDecrypt=Decrypt+this.setDecrypt(PrivateKey,ArrayData[n]);\t\r\n\t\t\t}\r\n\t\t\treturn Decrypt;\r\n\t\t},\r\n\t\tsetDecrypt:function(PrivateKey,data){\r\n\t\t\t\tconst encrypt =new JSEncrypt();\r\n\t\t\t\tencrypt.setPrivateKey(PrivateKey);\r\n\t\t\t\t\r\n\t\t\t\treturn encrypt.decrypt(data);\r\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/money/paySuccess.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./paySuccess.vue?vue&type=template&id=5cfbca63&\"\nvar renderjs\nimport script from \"./paySuccess.vue?vue&type=script&lang=js&\"\nexport * from \"./paySuccess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./paySuccess.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/money/paySuccess.vue\"\nexport default component.exports","export * from \"-!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./paySuccess.vue?vue&type=template&id=5cfbca63&\"","var components\ntry {\n  components = {\n    uMask: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-mask/u-mask\" */ \"@/uview-ui/components/u-mask/u-mask.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.show = false\n    }\n\n    _vm.e1 = function($event) {\n      _vm.show = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./paySuccess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./paySuccess.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<text class=\"success-icon yticon icon-xuanzhong2\"></text>\r\n\t\t<text class=\"tit\">订单提交成功</text>\r\n\t\t\r\n\t\t<view class=\"btn-group\">\r\n\t\t\t<navigator url=\"/pages/order/order?state=0\" open-type=\"redirect\" class=\"mix-btn\">查看订单</navigator>\r\n\t\t\t<view>\r\n\t\t\t\t<navigator url=\"/pages/index/index\" v-if=\"payType === 1 || payType === 3 || payType === 4\" open-type=\"switchTab\" class=\"mix-btn hollow\">继续购物</navigator>\r\n\t\t\t\t<navigator @click=\"goPay(payType)\" v-if=\"payType === 2 || payType === 8 || payType === 9\" open-type=\"switchTab\" class=\"mix-btn hollow\">去支付</navigator>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<ssPaymentPassword ref=\"paymentPassword\" :mode=\"mode\" :value=\"pay_password\" @submit=\"submitHandle\" />\r\n\t\t<u-mask :show=\"show\" @click=\"show = false\">\r\n\t\t\t<view class=\"warp\">\r\n\t\t\t\t<view class=\"rect\" @tap.stop>\r\n\t\t\t\t\t<image @click=\"show = false\" style=\"width: 100%;height: 100%;\" src=\"../../static/brow2.png\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-mask>\r\n\t</view>\n\t\n</template>\n\n<script>\r\n\timport uniRequest from 'uni-request';\r\n\timport ssPaymentPassword from '@/components/sanshui-payment-password'\r\n\timport jsencrypt from '@/components/jsencrypt/jsencrypt.vue';\r\n\timport jsrsasign from '@/node_modules/jsrsasign/lib/jsrsasign.js'\r\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\torderId:'',\r\n\t\t\t\tpayType:null,\r\n\t\t\t\tpay_password:'',\r\n\t\t\t\tshow:false,\r\n\t\t\t\tmode:0,\r\n\t\t\t\tprivate:'', //签名\r\n\t\t\t\tpublic:'', //加密\n\t\t\t}\n\t\t},\r\n\t\tcomponents:{ssPaymentPassword},\r\n\t\tasync onLoad(option){\r\n\t\t\tconsole.log(JSON.parse(option.payType))\r\n\t\t\tthis.payType = JSON.parse(option.payType)\r\n\t\t\tthis.orderId = JSON.parse(option.orderId)\r\n\t\t\t\r\n\t\t\tconst response = await uniRequest({\r\n\t\t\t\turl:'/payment/secret/key/',\r\n\t\t\t\tmethod:'GET',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization:'JWT '+uni.getStorageSync('userInfo').token\r\n\t\t\t\t},\r\n\t\t\t}).then(response=>{\r\n\t\t\t\tif(response.status === 200){\r\n\t\t\t\t\tconsole.log(response.data)\r\n\t\t\t\t\tthis.private = response.data.private\r\n\t\t\t\t\tthis.public = response.data.public\r\n\t\t\t\t}else if(response.status === 400){\r\n\t\t\t\t\tthis.$api.msg(response.data.message)\r\n\t\t\t\t}else if(response.status === 500){\r\n\t\t\t\t\tthis.$api.msg('服务器错误')\r\n\t\t\t\t}\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t},\n\t\tmethods: {\n\t\t\tasync goPay(payType){\r\n\t\t\t\tvar ua = navigator.userAgent.toLowerCase();\r\n\t\t\t\tvar isWeixin = ua.indexOf('micromessenger') != -1;\r\n\t\t\t\tif (isWeixin) {\r\n\t\t\t\t\tthis.show = true\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(payType === 2){\r\n\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tawait uniRequest({\r\n\t\t\t\t\t\turl: 'orders/app/'+this.orderId+'/payment/',\r\n\t\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: 'JWT ' + uni.getStorageSync('userInfo').token\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t\tconst orderInfo = res.data.message\r\n\t\t\t\t\t\tconsole.log(orderInfo)\r\n\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\tprovider: 'alipay',  // wxpay\r\n\t\t\t\t\t\t\torderInfo:orderInfo,\r\n\t\t\t\t\t\t\tsuccess: function(ress) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '支付成功'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\turl:'/pages/user/user'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\tconsole.log(err,err.errMsg)\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t// content: \"支付失败,原因为: \" + err.errMsg,\r\n\t\t\t\t\t\t\t\t\tcontent: \"抱歉，您的支付不成功\",\r\n\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\tconsole.log(error.data)\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tconst res = await uniRequest({\r\n\t\t\t\t\t\turl: '/orders/'+this.orderId+'/payment/?mobile=1',\r\n\t\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: 'JWT ' + uni.getStorageSync('userInfo').token\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t\tlocation.href =  'https://openapi.alipay.com/gateway.do?'+res.data.alipay_url\r\n\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\tconsole.log(error.data)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(payType === 8){\r\n\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tconsole.log(uni.getStorageSync('userInfo').token)\r\n\t\t\t\t\tawait uniRequest({\r\n\t\t\t\t\t\turl: '/orders/wechat/app/'+this.orderId+'/payment/',\r\n\t\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: 'JWT ' + uni.getStorageSync('userInfo').token\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t\t// 第一种写法，传对象\r\n\t\t\t\t\t\tconst orderInfo = {\r\n\t\t\t\t\t\t\t\"appid\": res.data.appid,\r\n\t\t\t\t\t\t\t\"noncestr\": res.data.noncestr,\r\n\t\t\t\t\t\t\t\"package\": res.data.package,\r\n\t\t\t\t\t\t\t\"partnerid\": res.data.partnerid,\r\n\t\t\t\t\t\t\t\"prepayid\": res.data.prepayid,\r\n\t\t\t\t\t\t\t\"timestamp\": res.data.timestamp,\r\n\t\t\t\t\t\t\t\"sign\": res.data.sign\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 第二种写法，传对象字符串\r\n\t\t\t\t\t\tconsole.log(JSON.stringify(orderInfo))\r\n\t\t\t\t\t\tuni.getProvider({\r\n\t\t\t\t\t\t\tservice: 'payment',\r\n\t\t\t\t\t\t\tsuccess: function (re) {\r\n\t\t\t\t\t\t\t\tconsole.log(re.provider)\r\n\t\t\t\t\t\t\t\tif (~re.provider.indexOf('wxpay')) {\r\n\t\t\t\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\t\t\t\tprovider: 'wxpay',  // wxpay\r\n\t\t\t\t\t\t\t\t\t\torderInfo:JSON.stringify(orderInfo),\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function(ress) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '支付成功'\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\t\turl:'/pages/user/user'\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(err,err.errMsg)\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t\t// content: \"支付失败,原因为: \" + err.errMsg,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '抱歉，您的支付不成功',\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\tconsole.log(error.data)\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tuniRequest({\r\n\t\t\t\t\t\turl: '/wechat/h5/orders/'+this.orderId+'/payment/',\r\n\t\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: 'JWT ' + uni.getStorageSync('userInfo').token\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t\tlocation.href = res.data.mweb_url\r\n\t\t\t\t\t\t// plus.runtime.openURL(res.data.mweb_url);\r\n\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\tconsole.log(error.data)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}else if(payType === 9){\r\n\t\t\t\t\tthis.mode = 1\r\n\t\t\t\t\tthis.$refs.paymentPassword.modalFun('show');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//公共方法挂载\r\n\t\t\tgetCode(publiukey,data){\r\n\t\t\t     //此处操作与后端约定参数\r\n\t\t\t     // 创建RSAKey对象\r\n\t\t\t     var rsa = new jsrsasign.RSAKey();\r\n\t\t\t     //因为后端提供的是pck#8的密钥对，所以这里使用 KEYUTIL.getKey来解析密钥\r\n\t\t\t     var k = publiukey\r\n\t\t\t     // 将密钥转码\r\n\t\t\t     rsa = jsrsasign.KEYUTIL.getKey(k); \r\n\t\t\t     // 创建Signature对象，设置签名编码算法\r\n\t\t\t     var sig = new jsrsasign.KJUR.crypto.Signature({\"alg\": \"SHA256withRSA\",prvkeypem:publiukey});\r\n\t\t\t     // 初始化\r\n\t\t\t     sig.init(rsa)\r\n\t\t\t     // 传入待加密字符串\r\n\t\t\t     sig.updateString(data)\r\n\t\t\t     // 生成密文\r\n\t\t\t     var sign = jsrsasign.hextob64(sig.sign());\r\n\t\t\t    /* // 对加密后内容进行URI编码\r\n\t\t\t     sign = encodeURIComponent(sign);\r\n\t\t\t     //把参数与密文拼接好，返回\r\n\t\t\t     var params = data+'&sign='+sign; */\r\n\t\t\t     return sign\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tjsencrypt(data){\r\n\t\t\t\t//公钥.\r\n\t\t\t\t\r\n\t\t\t\tvar publiukey=this.public;\r\n\t\t\t\t\r\n\t\t\t\t//限制117字符加密 (超过117字节会加载失败 中文或其他字符超过41个字符会加密失败)\r\n\t\t\t\t\r\n\t\t\t\tvar pubblicData=jsencrypt.setEncrypt(publiukey,data);\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(pubblicData);\r\n\t\t\t\t\r\n\t\t\t\treturn pubblicData\r\n\t\t\t},\r\n\t\t\tjsencryptRsa(data){\r\n\t\t\t\t//公钥.\r\n\t\t\t\tvar privatekey=this.private;\r\n\t\t\t\t\r\n\t\t\t\t//限制117字符加密 (超过117字节会加载失败 中文或其他字符超过41个字符会加密失败)\r\n\t\t\t\t\r\n\t\t\t\tvar ArrayData=this.getCode(privatekey,data);\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(ArrayData)\r\n\t\t\t\t\r\n\t\t\t\treturn ArrayData\r\n\t\t\t},\r\n\t\t\tasync submitHandle(e){\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tthis.pay_password = e.value\r\n\t\t\t\tconsole.log(this.pay_password)\r\n\t\t\t\tthis.pay_password = this.jsencrypt(this.pay_password)\r\n\t\t\t\tconst orderData = {\r\n\t\t\t\t\torder_id:this.orderId,\r\n\t\t\t\t\tpwd:this.pay_password,\r\n\t\t\t\t\ttime:Date.parse(new Date())\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(JSON.stringify(orderData))\r\n\t\t\t\tconst sign = this.jsencryptRsa(JSON.stringify(orderData))\r\n\t\t\t\tconsole.log(sign)\r\n\t\t\t\tconst response = await uniRequest({\r\n\t\t\t\t\turl:'/payment/balance/',\r\n\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\theaders:{\r\n\t\t\t\t\t\tAuthorization:'JWT '+uni.getStorageSync('userInfo').token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\torder_id:this.orderId,\r\n\t\t\t\t\t\tpwd:this.pay_password,\r\n\t\t\t\t\t\ttime:Date.parse(new Date()),\r\n\t\t\t\t\t\tsign:sign,\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(response=>{\r\n\t\t\t\t\tif(response.status === 200){\r\n\t\t\t\t\t\tconsole.log(response.data)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"支付成功\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\turl:'/pages/user/user'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},500)\r\n\t\t\t\t\t}else if(response.status === 400){\r\n\t\t\t\t\t\tthis.$api.msg(response.data.message)\r\n\t\t\t\t\t}else if(response.status === 500){\r\n\t\t\t\t\t\tthis.$api.msg('服务器错误')\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\n\t}\n</script>\n\n<style lang='scss'>\r\n\t.warp {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.rect {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #333333;\r\n\t}\r\n\t\r\n\t.content{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t.success-icon{\r\n\t\tfont-size: 160upx;\r\n\t\tcolor: #fa436a;\r\n\t\tmargin-top: 100upx;\r\n\t}\r\n\t.tit{\r\n\t\tfont-size: 38upx;\r\n\t\tcolor: #303133;\r\n\t}\r\n\t.btn-group{\r\n\t\tpadding-top: 100upx;\r\n\t}\r\n\t.mix-btn {\r\n\t\tmargin-top: 30upx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 600upx;\r\n\t\theight: 80upx;\r\n\t\tfont-size: $font-lg;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: $base-color;\r\n\t\tborder-radius: 10upx;\r\n\t\t&.hollow{\r\n\t\t\tbackground: #fff;\r\n\t\t\tcolor: #303133;\r\n\t\t\tborder: 1px solid #ccc;\r\n\t\t}\r\n\t}\n</style>\n","import mod from \"-!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./paySuccess.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./paySuccess.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}