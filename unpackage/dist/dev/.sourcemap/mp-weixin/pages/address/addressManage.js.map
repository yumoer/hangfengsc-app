{"version":3,"sources":["uni-app:///main.js","webpack:///X:/yumo27/uni-app/hangfengsc-app/pages/address/addressManage.vue?12ef","webpack:///X:/yumo27/uni-app/hangfengsc-app/pages/address/addressManage.vue?c44b","webpack:///X:/yumo27/uni-app/hangfengsc-app/pages/address/addressManage.vue?f9b3","webpack:///X:/yumo27/uni-app/hangfengsc-app/pages/address/addressManage.vue?1c79","uni-app:///pages/address/addressManage.vue","webpack:///X:/yumo27/uni-app/hangfengsc-app/pages/address/addressManage.vue?5aa3"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,oD,mDACAA,EAAWC,a;;;;2DCHX,iSACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,kCACZ,aAAAF,E;;;;2GCvBf,0zB;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,8eAAsyB,eAAG,G;;;;wMCkCzyB,6B,wpBAEA,CACA,YACA,mBAEA,KAJA,WAKA,OACA,YACA,qBACA,wBACA,aACA,QACA,UACA,oBACA,WACA,QACA,YAEA,cACA,gBACA,wBAGA,UACA,WADA,WAIA,OADA,yBACA,0DAGA,OA7BA,SA6BA,GACA,eAaA,eACA,4BACA,kBACA,WACA,oCACA,4BACA,wCACA,4BAEA,6BAGA,uBACA,yBACA,WAGA,SACA,aADA,SACA,+HACA,gBACA,mBAFA,iCAGA,cACA,8CACA,aACA,SACA,2DAEA,kBACA,eAEA,gBACA,uBACA,wBACA,mBACA,MAEA,uBAEA,mBACA,6BACA,gBACA,uBAvBA,oCA2BA,0BACA,uBACA,mBACA,KA9BA,OAgCA,+BAhCA,+CAmCA,SApCA,SAoCA,GACA,gBAEA,WAvCA,WAwCA,mCAEA,UA1CA,SA0CA,GACA,eACA,4CACA,oCACA,wCACA,qCACA,8BAKA,eArDA,WAuDA,kBACA,iIACA,eADA,oGA6BA,KA9BA,SA8BA,GACA,eACA,uBAOA,YA9FA,WA+FA,qBACA,uCACA,wBACA,2BACA,mCACA,aACA,yBACA,yBACA,6BACA,CACA,yDACA,wDACA,8CACA,qCACA,QACA,mDACA,qDACA,aACA,qBAKA,WAtHA,SAsHA,mIACA,eADA,UAGA,cACA,uCACA,OACA,aACA,SACA,2DAEA,kBACA,kBACA,uBACA,mBACA,kBAdA,4DAiBA,WAvIA,SAuIA,mIACA,eACA,2BACA,gBACA,6BACA,gCACA,sCACA,8BACA,sCACA,0BACA,4BACA,sBACA,2BAZA,UAcA,cACA,kBACA,cACA,oBACA,SACA,2DAEA,kBACA,kBACA,mBACA,kBAxBA,4DA6BA,QApKA,SAoKA,+HACA,WADA,uBAEA,uBAFA,6BAKA,0CALA,uBAMA,yBANA,6BASA,cATA,uBAUA,yBAVA,6BAaA,QAbA,wBAcA,wBAdA,2BAiBA,gCACA,wCACA,kCACA,4BACA,8CACA,uBACA,gCACA,iBAEA,sBACA,gBAIA,yDACA,6DACA,uBACA,mBACA,KAnCA,+CAuCA,UA3MA,SA2MA,6IACA,cACA,uCACA,gBACA,SACA,2DAEA,kBACA,eACA,gCACA,mBACA,uBACA,mBACA,KACA,+BACA,mBACA,kBAhBA,8D;;;;2DC3SA,80BAAo7C,eAAG,G","file":"pages/address/addressManage.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/address/addressManage.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addressManage.vue?vue&type=template&id=428471f5&\"\nvar renderjs\nimport script from \"./addressManage.vue?vue&type=script&lang=js&\"\nexport * from \"./addressManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addressManage.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/address/addressManage.vue\"\nexport default component.exports","export * from \"-!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addressManage.vue?vue&type=template&id=428471f5&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addressManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addressManage.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"row b-b\">\r\n\t\t\t<text class=\"tit\">联系人</text>\r\n\t\t\t<input class=\"input\" type=\"text\" v-model=\"addressData.receiver\" placeholder=\"收货人姓名\" placeholder-class=\"placeholder\" />\r\n\t\t</view>\r\n\t\t<view class=\"row b-b\">\r\n\t\t\t<text class=\"tit\">手机号</text>\r\n\t\t\t<input class=\"input\" type=\"number\" v-model=\"addressData.mobile\" placeholder=\"收货人手机号码\" placeholder-class=\"placeholder\" />\r\n\t\t</view>\r\n\t\t<view class=\"row b-b\">\r\n\t\t\t<text class=\"tit\">地址</text>\r\n\t\t\t<view class=\"input\" @tap=\"chooseCity\">  <!-- @click=\"chooseLocation\" -->\r\n\t\t\t\t{{addressData.addressName}}\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<text class=\"yticon icon-shouhuodizhi\"></text>\r\n\t\t</view>\r\n\t\t<view class=\"row b-b\">\r\n\t\t\t<text class=\"tit\">门牌号</text>\r\n\t\t\t<input class=\"input\" type=\"text\" v-model=\"addressData.place\" placeholder=\"楼号、门牌\" placeholder-class=\"placeholder\" />\r\n\t\t</view>\r\n\r\n\t\t<view class=\"row default-row\" v-if=\"default_address_id\">\r\n\t\t\t<text class=\"tit\">设为默认</text>\r\n\t\t\t<switch :checked=\"addressData.default\" color=\"#fa436a\" @change=\"switchChange\" />\r\n\t\t</view>\r\n\t\t<button class=\"add-btn\" @click=\"confirm(addressData)\">提交</button>\r\n\t\t<button class=\"del-btn\" @click=\"condelete(addressData)\">删除</button>\r\n\t\t<mpvue-city-picker :themeColor=\"themeColor\" ref=\"mpvueCityPicker\" :pickerValueDefault=\"cityPickerValue\" @onCancel=\"onCancel\" @onConfirm=\"onConfirm\"></mpvue-city-picker>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport uniRequest from 'uni-request'\r\n\timport mpvueCityPicker from '@/components/mpvue-citypicker/mpvueCityPicker.vue'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tmpvueCityPicker\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tareaList:[],\r\n\t\t\t\tthemeColor: '#007AFF',\r\n\t\t\t\tcityPickerValue: [0, 0, 0],\r\n\t\t\t\taddressData: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tmobile: '',\r\n\t\t\t\t\taddressName: '选择省市区',\r\n\t\t\t\t\taddress: '',\r\n\t\t\t\t\tarea: '',\r\n\t\t\t\t\tdefault: false\r\n\t\t\t\t},\r\n\t\t\t\tmanageType: {},\r\n\t\t\t\tform_address:{},\r\n\t\t\t\tdefault_address_id:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tregionName(){\r\n\t\t\t\t// 转为字符串\r\n\t\t\t\tconsole.log(this.region)\r\n\t\t\t\treturn this.region.map(item=>item.name).join(' ')\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tconsole.log(option)\r\n\t\t\t/* let that = this;\r\n\t\t\tlet myAmapFun = new amapFile.AMapWX({key:'高德Key'});\r\n\t\t\tmyAmapFun.getRegeo({\r\n\t\t\t  success: function(data){\r\n\t\t\t\t  console.log(data)\r\n\t\t\t\t//成功回调\r\n\t\t\t  },\r\n\t\t\t  fail: function(info){\r\n\t\t\t\t//失败回调\r\n\t\t\t\tconsole.log(info)\r\n\t\t\t  },\r\n\t\t    }) */\r\n\t\t\tlet title = '新增收货地址';\r\n\t\t\tthis.addressData.default = false\r\n\t\t\tif (option.type === 'edit') {\r\n\t\t\t\ttitle = '编辑收货地址'\r\n\t\t\t\tthis.addressData = JSON.parse(option.data)\r\n\t\t\t\tthis.default_address_id = true\r\n\t\t\t\tif(this.addressData.default_address_id === true){\r\n\t\t\t\t\tthis.addressData.default = true\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.addressData.default = false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.manageType = option.type;\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync switchChange(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tif(e.detail.value === true){\r\n\t\t\t\t\tconst response = await uniRequest({\r\n\t\t\t\t\t\turl: '/addresses/' + this.addressData.id + '/status/',\r\n\t\t\t\t\t\tmethod: 'put',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: 'JWT ' + uni.getStorageSync('userInfo').token\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}).then(response => {\r\n\t\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t\t\t/* this.$api.prePage().refreshList(data); */\r\n\t\t\t\t\t\tif(response.status === 200){\r\n\t\t\t\t\t\t  this.$api.msg('默认地址设置成功')\r\n\t\t\t\t\t\t  setTimeout((e) => {\r\n\t\t\t\t\t\t  \tuni.navigateBack()\r\n\t\t\t\t\t\t  }, 800)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.$api.msg('error')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\tconsole.log(error.response);\r\n\t\t\t\t\t\tif(error.response === undefined){\r\n\t\t\t\t\t\t\tthis.$api.msg('服务器错误');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$api.msg('请至少有一个地址为默认');\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t}, 800)\r\n\t\t\t\t}\r\n\t\t\t\tthis.addressData.default = e.detail;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tonCancel(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t},\r\n\t\t\tchooseCity() {\r\n\t\t\t\tthis.$refs.mpvueCityPicker.show()\r\n\t\t\t},\r\n\t\t\tonConfirm(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.addressData.province_id = e.provinceCode\r\n\t\t\t\tthis.addressData.city_id = e.cityCode\r\n\t\t\t\tthis.addressData.district_id = e.areaCode\r\n\t\t\t\tthis.addressData.addressName = e.label;\r\n\t\t\t\tthis.cityPickerValue = e.value;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//地图选择地址\r\n\t\t\tchooseLocation() {\r\n\t\t\t\t// 先判断定位权限是否开启\r\n\t\t\t\tuni.chooseLocation({\r\n\t\t\t\t\tsuccess: async (data) => {\r\n\t\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t // 先判断定位权限是否开启\r\n\t\t\t\t\t\tconst datass = {\r\n\t\t\t\t\t\t\t\"N\":data.longitude,\r\n\t\t\t\t\t\t\t\"S\":data.latitude\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst ress = await uniRequest.post('/areas/tx/province/areasViews/',datass)\r\n\t\t\t\t\t\tconsole.log(ress.data)\r\n\t\t\t\t\t\tthis.addressData.province_id = ress.data.province.id\r\n\t\t\t\t\t\tthis.addressData.city_id = ress.data.city.id\r\n\t\t\t\t\t\tthis.addressData.district_id = ress.data.district.id\r\n\t\t\t\t\t\tthis.addressData.addressName = data.address + ' ' + data.name;\r\n\t\t\t\t\t\tthis.addressData.address = data.address;\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t\tconst datas = {\r\n\t\t\t\t\t\t\t\"N\":data.longitude,\r\n\t\t\t\t\t\t\t\"S\":data.latitude\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst res = await uniRequest.post('/areas/gd/province/areasViews/',datas)\r\n\t\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t\tthis.addressData.province_id = res.data.province.id\r\n\t\t\t\t\t\tthis.addressData.city_id = res.data.city.id\r\n\t\t\t\t\t\tthis.addressData.district_id = res.data.district.id\r\n\t\t\t\t\t\tthis.addressData.addressName = data.address + ' ' + data.name;\r\n\t\t\t\t\t\tthis.addressData.address = data.address;\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t},fail(e){\r\n\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t\tthis.openSetting()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t \r\n\t\t\t},\r\n\r\n\t\t\t//打开授权设置（必须用户点击小程序才能打开授权设置，所以前面加了showModel）\r\n\t\t\topenSetting(){\r\n\t\t\t    if (permission.isIOS) {\r\n\t\t\t        var UIApplication = plus.ios.import(\"UIApplication\");\r\n\t\t\t        var application2 = UIApplication.sharedApplication();\r\n\t\t\t        var NSURL2 = plus.ios.import(\"NSURL\");\r\n\t\t\t        var setting2 = NSURL2.URLWithString(\"app-settings:\");\r\n\t\t\t        application2.openURL(setting2);\r\n\t\t\t        plus.ios.deleteObject(setting2);\r\n\t\t\t        plus.ios.deleteObject(NSURL2);\r\n\t\t\t        plus.ios.deleteObject(application2);\r\n\t\t\t    } else {\r\n\t\t\t        var Intent = plus.android.importClass(\"android.content.Intent\");\r\n\t\t\t        var Settings = plus.android.importClass(\"android.provider.Settings\");\r\n\t\t\t        var Uri = plus.android.importClass(\"android.net.Uri\");\r\n\t\t\t        var mainActivity = plus.android.runtimeMainActivity();\r\n\t\t\t        var intent = new Intent();\r\n\t\t\t        intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n\t\t\t        var uri = Uri.fromParts(\"package\", mainActivity.getPackageName(), null);\r\n\t\t\t        intent.setData(uri);\r\n\t\t\t        mainActivity.startActivity(intent);\r\n\t\t\t    }\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tasync setAddress(content) {\r\n\t\t\t\tconsole.log(content)\r\n\t\t\t\t\r\n\t\t\t\tconst response = await uniRequest({\r\n\t\t\t\t\turl: '/addresses/' + this.addressData.id + '/',\r\n\t\t\t\t\tdata: content,\r\n\t\t\t\t\tmethod: 'put',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'JWT ' + uni.getStorageSync('userInfo').token\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then(response => {\r\n\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync getAddress(content){\r\n\t\t\t\tconsole.log(content)\r\n\t\t\t\tconsole.log(this.addressData)\r\n\t\t\t\tthis.form_address = {\r\n\t\t\t\t  title:this.addressData.receiver,\r\n\t\t\t\t  receiver: this.addressData.receiver,\r\n\t\t\t\t  province_id: this.addressData.province_id,\r\n\t\t\t\t  city_id: this.addressData.city_id,\r\n\t\t\t\t  district_id: this.addressData.district_id,\r\n\t\t\t\t  place: this.addressData.place,\r\n\t\t\t\t  mobile: this.addressData.mobile,\r\n\t\t\t\t  addresses:content.addresses,\r\n\t\t\t\t  addressName:content.addressName,\r\n\t\t\t\t}\r\n\t\t\t\tconst response = await uniRequest({\r\n\t\t\t\t\turl: '/addresses/',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata:this.form_address,\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'JWT ' + uni.getStorageSync('userInfo').token\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then(response => {\r\n\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//提交\r\n\t\t\tasync confirm(data) {\r\n\t\t\t\tif (!data.receiver) {\r\n\t\t\t\t\tthis.$api.msg('请填写收货人姓名');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!/(^1[3|4|5|7|8][0-9]{9}$)/.test(data.mobile)) {\r\n\t\t\t\t\tthis.$api.msg('请输入正确的手机号码');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!data.addressName) {\r\n\t\t\t\t\tthis.$api.msg('请在地图选择所在位置');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!data.place) {\r\n\t\t\t\t\tthis.$api.msg('请填写详细地址信息');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.addressData.address = data.address\r\n\t\t\t\tthis.addressData.addressName = data.addressName\r\n\t\t\t\tthis.addressData.receiver = data.receiver\r\n\t\t\t\tthis.addressData.title = data.title\r\n\t\t\t\tconsole.log(this.manageType,this.addressData.title)\r\n\t\t\t\tif(this.manageType === 'edit'){\r\n\t\t\t\t\tthis.addressData.address = data.address\r\n\t\t\t\t\tthis.setAddress(data)\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(this.manageType === 'add'){\r\n\t\t\t\t\tthis.getAddress(data)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//this.$api.prePage()获取上一页实例，可直接调用上页所有数据和方法，在App.vue定义\r\n\t\t\t\tthis.$api.prePage().refreshList(this.addressData, this.manageType);\r\n\t\t\t\tthis.$api.msg(`地址${this.manageType=='edit' ? '修改': '添加'}成功`);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t}, 800)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 删除\r\n\t\t\tasync condelete(data){\r\n\t\t\t\tconst response = await uniRequest({\r\n\t\t\t\t\turl: '/addresses/' + this.addressData.id + '/',\r\n\t\t\t\t\tmethod: 'delete',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'JWT ' + uni.getStorageSync('userInfo').token\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then(response => {\r\n\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t\tthis.$api.prePage().refreshList(data);\r\n\t\t\t\t\tthis.$api.msg('删除成功')\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t}, 800)\r\n\t\t\t\t\tthis.addresses.splice(index, 1);\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\tbackground: $page-color-base;\r\n\t\tpadding-top: 16upx;\r\n\t}\r\n\r\n\t.row {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t\tpadding: 0 30upx;\r\n\t\theight: 110upx;\r\n\t\tbackground: #fff;\r\n\r\n\t\t.tit {\r\n\t\t\tflex-shrink: 0;\r\n\t\t\twidth: 120upx;\r\n\t\t\tfont-size: 30upx;\r\n\t\t\tcolor: $font-color-dark;\r\n\t\t}\r\n\r\n\t\t.input {\r\n\t\t\tflex: 1;\r\n\t\t\tfont-size: 30upx;\r\n\t\t\tcolor: $font-color-dark;\r\n\t\t}\r\n\r\n\t\t.icon-shouhuodizhi {\r\n\t\t\tfont-size: 36upx;\r\n\t\t\tcolor: $font-color-light;\r\n\t\t}\r\n\t}\r\n\r\n\t.default-row {\r\n\t\tmargin-top: 16upx;\r\n\r\n\t\t.tit {\r\n\t\t\tflex: 1;\r\n\t\t}\r\n\r\n\t\tswitch {\r\n\t\t\ttransform: translateX(16upx) scale(.9);\r\n\t\t}\r\n\t}\r\n\r\n\t.add-btn {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 690upx;\r\n\t\theight: 80upx;\r\n\t\tmargin: 60upx auto;\r\n\t\tfont-size: $font-lg;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: $base-color;\r\n\t\tborder-radius: 10upx;\r\n\t\tbox-shadow: 1px 2px 5px rgba(219, 63, 96, 0.6);\r\n\t}\r\n\t.del-btn {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 690upx;\r\n\t\theight: 80upx;\r\n\t\tmargin: 60upx auto;\r\n\t\tfont-size: $font-lg;\r\n\t\tborder-radius: 10upx;\r\n\t\tbox-shadow: 1px 2px 5px rgba(219, 63, 96, 0.4);\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addressManage.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addressManage.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}