(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/lookDetails/concalShops"],{"1c02":function(e,t,o){"use strict";var n={"uni-number-box":()=>o.e("components/uni-number-box/uni-number-box").then(o.bind(null,"717f"))},a=function(){var e=this,t=e.$createElement;e._self._c},r=[];o.d(t,"b",function(){return a}),o.d(t,"c",function(){return r}),o.d(t,"a",function(){return n})},5061:function(e,t,o){"use strict";(function(e){o("a8bd"),o("921b");n(o("66fd"));var t=n(o("5ebe"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("6e42")["createPage"])},5829:function(e,t,o){"use strict";o.r(t);var n=o("fabd"),a=o.n(n);for(var r in n)"default"!==r&&function(e){o.d(t,e,function(){return n[e]})}(r);t["default"]=a.a},"5ebe":function(e,t,o){"use strict";o.r(t);var n=o("1c02"),a=o("5829");for(var r in a)"default"!==r&&function(e){o.d(t,e,function(){return a[e]})}(r);o("6771"),o("6eca");var i,s=o("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);t["default"]=u.exports},6771:function(e,t,o){"use strict";var n=o("7b9e"),a=o.n(n);a.a},"6eca":function(e,t,o){"use strict";var n=o("ac94"),a=o.n(n);a.a},"7b9e":function(e,t,o){},ac94:function(e,t,o){},fabd:function(e,t,o){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(o("a34a")),r=i(o("2fb7"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,o,n,a,r,i){try{var s=e[r](i),u=s.value}catch(c){return void o(c)}s.done?t(u):Promise.resolve(u).then(n,a)}function u(e){return function(){var t=this,o=arguments;return new Promise(function(n,a){var r=e.apply(t,o);function i(e){s(r,n,a,i,u,"next",e)}function u(e){s(r,n,a,i,u,"throw",e)}i(void 0)})}}var c=function(){return Promise.all([o.e("common/vendor"),o.e("components/QuShe-inputs/inputs")]).then(o.bind(null,"f1bf"))},l=function(){return o.e("components/uni-number-box/uni-number-box").then(o.bind(null,"717f"))},d={data:function(){return{goodsItem:{},desc:"",count:1,textareaValue:"请说明退换货原因",type:1,blob:{},imgList:[],modalName:null,index:-1,orderId:null,radioItems:[{value:"退货",checked:"true",type:1},{value:"换货",type:2}],inputsArray:[{segmentationTitle:"上传图片",type:"pics",title:"上传图片",itemArray:[{title:"图片1",ignore:!0},{title:"图片2",ignore:!0}],variableName:"pic",border_top:"1px solid #f2f2f2",clearColor:"#c0ebd7",customId:"自定义一标识"}]}},components:{uniNumberBox:l,inputs:c},onLoad:function(t){e("log",t.item," at pages\\order\\lookDetails\\concalShops.vue:135"),e("log",JSON.parse(t.item)," at pages\\order\\lookDetails\\concalShops.vue:136"),this.goodsItem=JSON.parse(t.item),e("log",this.goodsItem," at pages\\order\\lookDetails\\concalShops.vue:138"),this.orderId=t.order_id,e("log",this.orderId," at pages\\order\\lookDetails\\concalShops.vue:140")},methods:{blur:function(t){e("log",t," at pages\\order\\lookDetails\\concalShops.vue:144"),this.desc=t.detail.value},ChooseImage:function(){var t=this;n.chooseImage({count:4,sizeType:["compressed"],sourceType:["album"],success:function(o){e("log",o," at pages\\order\\lookDetails\\concalShops.vue:155"),t.imgList=t.imgList.concat(o.tempFilePaths),e("log",t.imgList," at pages\\order\\lookDetails\\concalShops.vue:165"),n.uploadFile({url:"http://192.168.1.181:8000/api/order/create/return/goods/user/",filePath:t.imgList[0],name:"image1",header:{token:"JWT "+n.getStorageSync("userInfo").token,"Content-Type":"multipart/form-data"},success:function(e){resolve(e.data)}})}})},urlTobase64:function(t){var o=this;n.request({url:"",method:"GET",responseType:"arraybuffer",success:function(t){e("log",t," at pages\\order\\lookDetails\\concalShops.vue:196");var n=wx.arrayBufferToBase64(t.data);n="data:image/jpeg;base64,"+n,e("log",n," at pages\\order\\lookDetails\\concalShops.vue:199"),o.dataURLToBlob(n),e("log",o.blob," at pages\\order\\lookDetails\\concalShops.vue:203")}})},dataURLToBlob:function(e){var t=e.split(","),o=t[0].match(/:(.*?);/)[1],n=atob(t[1]),a=n.length,r=new Uint8Array(a);while(a--)r[a]=n.charCodeAt(a);return this.blob=new Blob([r],{type:o}),new Blob([r],{type:o})},dataURLtoFile:function(e,t){for(var o=atob(e.split(",")[1]),n=[],a=0;a<o.length;a++)n.push(o.charCodeAt(a));return new Blob([new Uint8Array(n)],{type:t})},ViewImage:function(e){n.previewImage({urls:this.imgList,current:e.currentTarget.dataset.url})},DelImg:function(e){var t=this;n.showModal({title:"删除照片",content:"确定要删除这张照片吗？",cancelText:"取消",confirmText:"确定",success:function(o){o.confirm&&t.imgList.splice(e.currentTarget.dataset.index,1)}})},radioChange:function(t){e("log",t," at pages\\order\\lookDetails\\concalShops.vue:255");var o=t.target.value,n={};this.type=t.target.value,"退货"===this.type?this.type=1:this.type=2;for(var a=0;a<this.radioItems.length;a++)-1!==o.indexOf(this.radioItems[a].name)?n["radioItems["+a+"].checked"]=!0:n["radioItems["+a+"].checked"]=!1},activeFc:function(t){e("log",JSON.stringify(t)," at pages\\order\\lookDetails\\concalShops.vue:274"),n.showToast({title:"获取输入成功"})},bindChange:function(t){this.count=Number(t),e("log","返回数据",t," at pages\\order\\lookDetails\\concalShops.vue:281")},textInput:function(t){e("log",t," at pages\\order\\lookDetails\\concalShops.vue:285")},doSubmit:function(){var t=u(a.default.mark(function t(o){var i=this;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.default)({url:"order/create/return/goods/user/",method:"post",data:{order_id:this.orderId,goods_id:this.goodsItem.sku,count:this.count,cause:this.desc,image1:this.imgList[0],image2:this.imgList[1],image3:this.imgList[2],image4:this.imgList[3],service_type:this.type},headers:{Authorization:"JWT "+n.getStorageSync("userInfo").token}}).then(function(t){200===t.status?(i.$api.msg("提交成功"),e("log",t," at pages\\order\\lookDetails\\concalShops.vue:308"),setTimeout(function(){n.navigateBack()},300)):i.$api.msg(t.data.non_field_errors[0])}).catch(function(t){e("log",t," at pages\\order\\lookDetails\\concalShops.vue:316")});case 2:case"end":return t.stop()}},t,this)}));function o(e){return t.apply(this,arguments)}return o}()}};t.default=d}).call(this,o("0de9")["default"],o("6e42")["default"])}},[["5061","common/runtime","common/vendor"]]]);