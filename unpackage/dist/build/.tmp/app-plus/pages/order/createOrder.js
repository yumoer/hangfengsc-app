(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/createOrder"],{"0b33":function(t,e,i){},"153f":function(t,e,i){"use strict";var n,r=function(){var t=this,e=t.$createElement,i=(t._self._c,Number(t.datas.price)),n=Number(t.price),r=Number(t.datas.price),a=Number(t.price),o=Number(t.datas.price),s=Number(t.price);t.$mp.data=Object.assign({},{$root:{m0:i,m1:n,m2:r,m3:a,m4:o,m5:s}})},a=[];i.d(e,"b",function(){return r}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return n})},"1aa4":function(t,e,i){"use strict";var n=i("0b33"),r=i.n(n);r.a},"2b04":function(t,e,i){"use strict";(function(t){i("a8bd"),i("921b");n(i("66fd"));var e=n(i("9551"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},9551:function(t,e,i){"use strict";i.r(e);var n=i("153f"),r=i("fa7c");for(var a in r)"default"!==a&&function(t){i.d(e,t,function(){return r[t]})}(a);i("1aa4");var o,s=i("f0c5"),c=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=c.exports},e4cf:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(i("a34a")),a=o(i("2fb7"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i,n,r,a,o){try{var s=t[a](o),c=s.value}catch(d){return void i(d)}s.done?e(c):Promise.resolve(c).then(n,r)}function c(t){return function(){var e=this,i=arguments;return new Promise(function(n,r){var a=t.apply(e,i);function o(t){s(a,n,r,o,c,"next",t)}function c(t){s(a,n,r,o,c,"throw",t)}o(void 0)})}}var d={data:function(){return{datas:[],count:1,maskState:0,desc:"",payType:1,price:0,disPrice:0,invoice:"选择发票",goods_id:"",couponList:{},addressData:{title:"选择收货地址"},current:null,info:{address:void 0===this.addressData?null:this.addressData.id,pay_method:null,remark:"",invoice:"",invoice_type:"0",send_invoice_address:""}}},onShow:function(){t("log",this.couponList," at pages\\order\\createOrder.vue:159"),void 0!==this.couponList.id&&(this.info.invoice=this.couponList.id)},onLoad:function(e){var i=this,n=JSON.parse(e.data);if(t("log",n," at pages\\order\\createOrder.vue:167"),e.count)this.datas=n,this.datas.count=e.count,this.price=this.datas.price*e.count,this.goods_id=e.goods_id;else{var r;this.datas=n,t("log",this.datas," at pages\\order\\createOrder.vue:175");var a=[];this.datas.forEach(function(t){r=Number(t.price)*t.count,a.push(r)}),a.forEach(function(t){i.price+=t}),this.price=this.price.toFixed(2)}},methods:{toggleMask:function(e){var i=this;t("log",e," at pages\\order\\createOrder.vue:191");var n="show"===e?10:300,r="show"===e?1:0;setTimeout(function(){i.maskState=r},n)},delInvoice:function(){this.couponList={}},getAddress:function(){var e=c(r.default.mark(function e(){var i=this;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.default)({url:"/addresses/",method:"get",headers:{Authorization:"JWT "+n.getStorageSync("userInfo").token}}).then(function(e){t("log",e.data.addresses,e.data.default_address_id," at pages\\order\\createOrder.vue:210"),e.data.addresses.forEach(function(t){e.data.default_address_id===t.id&&(i.addressData=t)})}).catch(function(e){t("log",e," at pages\\order\\createOrder.vue:217")});case 2:e.sent;case 3:case"end":return e.stop()}},e,this)}));function i(){return e.apply(this,arguments)}return i}(),unique:function(t){var e=new Map;return t.filter(function(t){return!e.has(t.id)&&e.set(t.id,1)})},numberChange:function(t){this.number=t.number},changePayType:function(e,i){t("log",e,i," at pages\\order\\createOrder.vue:230")},submit:function(){t("log",this.info," at pages\\order\\createOrder.vue:233"),void 0!==this.addressData.id&&(this.info.address=this.addressData.id),null!==this.info.address?(this.info.remark=this.desc,void 0===this.couponList.id?this.info.invoice_type="0":""===this.couponList.invoice_bank||""===this.couponList.invoice_bank_code||""===this.couponList.invoice_phone||""===this.couponList.register_address?this.info.invoice_type="1":this.info.invoice_type="2",""!==this.goods_id||void 0!==this.datas.count?n.redirectTo({url:"/pages/money/pay?info="+JSON.stringify(this.info)+"&price="+this.price+"&goods_id="+this.goods_id+"&count="+this.datas.count}):n.redirectTo({url:"/pages/money/pay?info="+JSON.stringify(this.info)+"&price="+this.price})):this.$api.msg("请选择收货地址")}}};e.default=d}).call(this,i("0de9")["default"],i("6e42")["default"])},fa7c:function(t,e,i){"use strict";i.r(e);var n=i("e4cf"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=r.a}},[["2b04","common/runtime","common/vendor"]]]);