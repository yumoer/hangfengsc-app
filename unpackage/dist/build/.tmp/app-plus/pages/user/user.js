(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/user"],{"063b":function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("a34a")),i=a(n("2fb7")),u=n("2f62");function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,r,o,i,u){try{var a=t[i](u),s=a.value}catch(c){return void n(c)}a.done?e(s):Promise.resolve(s).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function u(t){s(i,r,o,u,a,"next",t)}function a(t){s(i,r,o,u,a,"throw",t)}u(void 0)})}}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(){return n.e("components/mix-list-cell").then(n.bind(null,"fd2d"))},d=0,g=0,v=!0,p={components:{listCell:h},data:function(){return{coverTransform:"translateY(0px)",coverTransition:"0s",moving:!1,histories:[],code:"",count1:null,count2:null,count3:null,count4:null,count5:null}},onLoad:function(t){this.$api.msg(t.data)},onShow:function(){this.hasLogin?(this.code="普通用户",this.userInfo.portrait="http://img.zcool.cn/community/01786557e4a6fa0000018c1bf080ca.png",this.browseHistories(),this.getDate("待支付"),this.getDate("待发货"),this.getDate("待收获"),this.getDate("待评价"),this.getDate1()):(this.code="未登录用户",this.browseHistories(),this.count1=0,this.count2=0,this.count3=0,this.count4=0,this.count5=0)},onNavigationBarButtonTap:function(t){var e=t.index;if(0===e)this.navTo("/pages/set/set");else if(1===e){var n=getCurrentPages(),r=n[n.length-1],o=r.$getAppWebview();o.hideTitleNViewButtonRedDot({index:e}),this.navTo("/pages/notice/notice")}},onBackPress:function(){if(this.shareObj.shareMenu.isVisible())return this.shareObj.shareMenu.hide(),this.shareObj.alphaBg.hide(),!0},computed:f({},(0,u.mapState)(["hasLogin","userInfo"])),methods:f({},(0,u.mapMutations)(["logout"]),{navTo:function(e){this.hasLogin||(e="/pages/public/login"),t.navigateTo({url:e})},length:function(t){var e=0;for(var n in t)e++;return e},getDate:function(){var e=c(o.default.mark(function e(n){var u=this;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.default)({url:"/orders/info/?status="+n,method:"get",headers:{Authorization:"JWT "+t.getStorageSync("userInfo").token}}).then(function(t){if(200===t.status){r("log",t.data.order_id," at pages\\user\\user.vue:247");var e=u.length(t.data.order_id);"待支付"===n?u.count1=e:"待发货"===n?u.count2=e:"待收货"===n?u.count3=e:"待评价"===n?u.count4=e:"已完成"===n&&(u.count5=e)}}).catch(function(t){r("log",t," at pages\\user\\user.vue:263")});case 2:e.sent;case 3:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),getDate1:function(){var e=c(o.default.mark(function e(){var n=this;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.default)({url:"mobile/order/list/return/goods/user/",method:"get",headers:{Authorization:"JWT "+t.getStorageSync("userInfo").token}}).then(function(t){if(200===t.status){r("log",t.data.order_id," at pages\\user\\user.vue:276");var e=n.length(t.data);n.count5=e}}).catch(function(t){r("log",t," at pages\\user\\user.vue:281")});case 2:e.sent;case 3:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),browseHistories:function(){var e=c(o.default.mark(function e(){var n=this;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.default)({url:"/browse_histories/",method:"get",headers:{Authorization:"JWT "+t.getStorageSync("userInfo").token}}).then(function(t){r("log",t," at pages\\user\\user.vue:293"),200===t.status?n.histories=t.data:401===t.status&&(n.logout(),n.histories=[],n.$api.msg("登录过期,请重新登录"))}).catch(function(t){n.histories=[]});case 2:e.sent;case 3:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),coverTouchstart:function(t){!1!==v&&(this.coverTransition="transform .1s linear",d=t.touches[0].clientY)},coverTouchmove:function(t){g=t.touches[0].clientY;var e=g-d;e<0?this.moving=!1:(this.moving=!0,e>=80&&e<100&&(e=80),e>0&&e<=80&&(this.coverTransform="translateY(".concat(e,"px)")))},coverTouchend:function(){!1!==this.moving&&(this.moving=!1,this.coverTransition="transform 0.3s cubic-bezier(.21,1.93,.53,.64)",this.coverTransform="translateY(0px)")}})};e.default=p}).call(this,n("6e42")["default"],n("0de9")["default"])},1302:function(t,e,n){"use strict";n.r(e);var r=n("6158"),o=n("6500");for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);n("b16c");var u,a=n("f0c5"),s=Object(a["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],u);e["default"]=s.exports},"5f60":function(t,e,n){"use strict";(function(t){n("a8bd"),n("921b");r(n("66fd"));var e=r(n("1302"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},6158:function(t,e,n){"use strict";var r={"min-badge":()=>n.e("components/min-badge/min-badge").then(n.bind(null,"ba94"))},o=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return r})},6500:function(t,e,n){"use strict";n.r(e);var r=n("063b"),o=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,function(){return r[t]})}(i);e["default"]=o.a},b16c:function(t,e,n){"use strict";var r=n("c42f"),o=n.n(r);o.a},c42f:function(t,e,n){}},[["5f60","common/runtime","common/vendor"]]]);