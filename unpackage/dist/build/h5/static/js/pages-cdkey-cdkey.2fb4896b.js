(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-cdkey-cdkey"],{"10c3":function(e,t,a){"use strict";(function(e){var i=a("4ea4");a("d3b7"),a("ac1f"),a("25f0"),a("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var n=i(a("1da1")),o=(a("2f62"),i(a("919f"))),c={data:function(){return{card_number:"",card_paw:"",image_code:"",image_code_id:"",image_code_url:"",getText:"",open_id:"",show:!0}},onLoad:function(t){e("log",t.open_id," at pages/cdkey/cdkey.vue:87"),this.open_id=t.open_id,this.generate_image_code()},activated:function(){this.generate_image_code()},methods:{inputChange:function(e){var t=e.currentTarget.dataset.key;this[t]=e.detail.value},navBack:function(){uni.navigateBack()},typeChange:function(){this.show=!this.show},generate_image_code:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:uni.setStorage({key:"flag",data:"1"}),t.image_code_id=t.generate_uuid(),e("log",t.image_code_id," at pages/cdkey/cdkey.vue:121"),t.image_code_url="http://api.hfyt365.com/verify/image_codes/"+t.image_code_id+"/",e("log",t.image_code_url," at pages/cdkey/cdkey.vue:125"),setTimeout((function(){o.default.get("/verify/image_codes/text/"+t.image_code_id+"/").then((function(a){e("log",a.data," at pages/cdkey/cdkey.vue:129"),200===a.status?void 0!==a.data.text&&(t.getText=a.data.text.toLowerCase()):t.$api.msg(a.data.message)})).catch((function(t){e("log",t," at pages/cdkey/cdkey.vue:138")}))}),500);case 6:case"end":return a.stop()}}),a)})))()},generate_uuid:function(){var e=(new Date).getTime();e+=performance.now();var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:3&a|8).toString(16)}));return t},toExchange:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.card_number){a.next=3;break}return t.$api.msg("请输入卡号"),a.abrupt("return");case 3:if(t.card_paw){a.next=6;break}return t.$api.msg("请输入卡密"),a.abrupt("return");case 6:if(e("log",t.image_code,t.getText," at pages/cdkey/cdkey.vue:177"),t.image_code){a.next=10;break}return t.$api.msg("请输入验证码"),a.abrupt("return");case 10:i={card_number:t.card_number,card_paw:t.card_paw,image_code:t.image_code,open_id:t.open_id},o.default.post("/goods/exchange/info/",i).then((function(a){e("log",a," at pages/cdkey/cdkey.vue:190"),200===a.status&&(e("log",a.data," at pages/cdkey/cdkey.vue:192"),void 0===a.data.exchange_user?uni.navigateTo({url:"/pages/cdkey/cdkeyOrder?data="+JSON.stringify(a.data)}):uni.navigateTo({url:"/pages/cdkey/cdkeyDetail?exchange_user="+a.data.exchange_user}),uni.setStorage({key:"card_number",data:t.card_number}),uni.setStorage({key:"card_paw",data:t.card_paw}),uni.setStorage({key:"open_id",data:t.open_id})),400===a.status&&(t.$api.msg(a.data.message),t.image_code="",t.generate_image_code())})).catch((function(t){e("log",t," at pages/cdkey/cdkey.vue:222")}));case 12:case"end":return a.stop()}}),a)})))()}}};t.default=c}).call(this,a("0de9")["log"])},3010:function(e,t,a){"use strict";a.r(t);var i=a("edd74"),n=a("5a99");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("ecf6");var c,d=a("f0c5"),r=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"6be2decc",null,!1,i["a"],c);t["default"]=r.exports},"5a99":function(e,t,a){"use strict";a.r(t);var i=a("10c3"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},ad38:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* uni.scss */\n/* 主题色 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 页面左右间距 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 行为相关颜色 */uni-radio .uni-radio-input[data-v-6be2decc]{width:14px;height:14px}uni-page-body[data-v-6be2decc]{background:#fff}.container[data-v-6be2decc]{padding-top:35px;position:relative;width:100vw;height:100vh;overflow:hidden;background:#fff}.wrapper[data-v-6be2decc]{position:relative;z-index:90;background:#fff;padding-bottom:%?40?%\n  /* margin-top: 40px; */}.back-btn[data-v-6be2decc]{position:absolute;left:%?40?%;z-index:9999;padding-top:0;top:%?40?%;font-size:%?40?%;color:#303133}.left-top-sign[data-v-6be2decc]{font-size:%?120?%;color:#f8f8f8;position:relative;left:%?-16?%}.right-top-sign[data-v-6be2decc]{position:absolute;top:%?80?%;right:%?-30?%;z-index:95}.right-top-sign[data-v-6be2decc]:before, .right-top-sign[data-v-6be2decc]:after{display:block;content:"";width:%?400?%;height:%?80?%;background:#b4f3e2}.right-top-sign[data-v-6be2decc]:before{-webkit-transform:rotate(50deg);transform:rotate(50deg);border-radius:0 50px 0 0}.right-top-sign[data-v-6be2decc]:after{position:absolute;right:%?-198?%;top:0;-webkit-transform:rotate(-50deg);transform:rotate(-50deg);border-radius:50px 0 0 0\n  /* background: pink; */}.left-bottom-sign[data-v-6be2decc]{position:absolute;left:%?-270?%;bottom:%?-320?%;border:%?100?% solid #d0d1fd;border-radius:50%;padding:%?180?%}.welcome[data-v-6be2decc]{position:relative;left:%?50?%;top:%?-90?%;font-size:%?46?%;color:#555;text-shadow:1px 0 1px rgba(0,0,0,.3)}.input-content[data-v-6be2decc]{padding:0 %?60?%;margin-top:-20px}.input-item[data-v-6be2decc]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:0 %?30?%;background:#f8f6fc;height:%?100?%;border-radius:4px;margin-bottom:%?20?%}.input-item[data-v-6be2decc]:last-child{margin-bottom:0}.input-item .tit[data-v-6be2decc]{height:%?50?%;line-height:%?56?%;font-size:%?26?%;color:#606266}.input-item uni-input[data-v-6be2decc]{height:%?60?%;font-size:%?30?%;color:#303133;width:100%}.confirm-btn[data-v-6be2decc]{width:%?630?%;height:%?76?%;line-height:%?76?%;border-radius:50px;margin-top:%?40?%;background:#fa436a;color:#fff;font-size:%?32?%}.confirm-btn[data-v-6be2decc]:after{border-radius:100px}.forget-section[data-v-6be2decc]{font-size:%?26?%;color:#d6003c;margin-top:%?40?%}.register-section[data-v-6be2decc]{position:absolute;left:0;bottom:%?50?%;width:100%;font-size:%?26?%;color:#606266;text-align:center}.register-section uni-text[data-v-6be2decc]{color:#d6003c;margin-left:%?10?%}.otherLogin[data-v-6be2decc]{width:%?500?%;height:%?95?%;margin:%?80?% auto;display:flex;justify-content:space-around}.otherLogin > uni-view[data-v-6be2decc]{width:%?95?%;height:%?95?%;background:#fff;border-radius:%?95?%}.otherLoginTitle[data-v-6be2decc]{width:100%;margin-top:%?40?%;text-align:center;color:#555;font-size:%?28?%;line-height:%?80?%}body.?%PAGE?%[data-v-6be2decc]{background:#fff}',""]),e.exports=t},af15:function(e,t,a){var i=a("ad38");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("4f3a3718",i,!0,{sourceMap:!1,shadowMode:!1})},ecf6:function(e,t,a){"use strict";var i=a("af15"),n=a.n(i);n.a},edd74:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"left-bottom-sign"}),a("v-uni-view",{staticClass:"right-top-sign"}),a("v-uni-view",{staticClass:"wrapper"},[a("v-uni-view",{staticClass:"left-top-sign"},[e._v("CDKEY"),a("v-uni-view",{staticClass:"welcome"},[e._v("卡券查询")])],1),a("v-uni-view",{staticClass:"input-content"},[a("v-uni-view",{staticClass:"input-item"},[a("v-uni-text",{staticClass:"tit"},[e._v("卡号")]),a("v-uni-input",{attrs:{value:e.card_number,type:"number",placeholder:"请输入卡号",maxlength:"12","data-key":"card_number","adjust-position":!0},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputChange.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"input-item",staticStyle:{position:"relative"}},[a("v-uni-text",{staticClass:"tit"},[e._v("卡密")]),a("v-uni-input",{attrs:{type:"text",value:e.card_paw,placeholder:"请输入卡密","placeholder-class":"input-empty",maxlength:"8",password:e.show,"adjust-position":!0,"data-key":"card_paw"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputChange.apply(void 0,arguments)}}}),a("v-uni-text",{staticStyle:{position:"absolute",right:"20upx",bottom:"15upx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.typeChange.apply(void 0,arguments)}}},[a("v-uni-image",{staticStyle:{width:"20px",height:"20px"},attrs:{src:!0===e.show?"../../static/cdkey/yan-off.png":"../../static/cdkey/yan-on.png",mode:""}})],1)],1),a("v-uni-view",{staticClass:"input-item",staticStyle:{position:"relative"}},[a("v-uni-text",{staticClass:"tit"},[e._v("验证码")]),a("v-uni-input",{attrs:{value:e.image_code,type:"text",placeholder:"请输入验证码","placeholder-class":"input-empty",maxlength:"4","adjust-position":!0,"data-key":"image_code"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputChange.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.toExchange.apply(void 0,arguments)}}}),a("v-uni-view",{staticStyle:{position:"absolute",right:"16upx",top:"16upx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.generate_image_code.apply(void 0,arguments)}}},[a("v-uni-image",{staticStyle:{width:"100px",height:"35px"},attrs:{src:e.image_code_url,mode:""}})],1)],1)],1)],1),a("v-uni-button",{staticClass:"confirm-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toExchange.apply(void 0,arguments)}}},[e._v("查询")])],1)},o=[]}}]);