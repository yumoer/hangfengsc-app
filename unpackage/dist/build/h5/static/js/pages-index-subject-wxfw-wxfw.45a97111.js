(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-subject-wxfw-wxfw"],{2199:function(e,t,a){"use strict";a.r(t);var i=a("36fd"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},"220a":function(e,t,a){"use strict";a.r(t);var i=a("e4ec"),r=a("2199");for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);a("9b4b");var s,u=a("f0c5"),l=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"7beca0b6",null,!1,i["a"],s);t["default"]=l.exports},"2c4a":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".tab-box[data-v-50dfb380]{width:100%;color:rgba(0,0,0,.8);display:flex;height:%?90?%;background:#fff;font-size:%?28?%;box-shadow:0 1px 5px rgba(0,0,0,.06);position:relative;z-index:10;overflow:hidden}.tab-box .active[data-v-50dfb380]{color:#e54d42}.tab-box .horizontal[data-v-50dfb380]{width:100%}.tab-box .horizontal .item[data-v-50dfb380]{display:inline-block;text-align:center;padding:0 %?30?%;height:%?86?%;width:auto;line-height:%?90?%}.tab-box .horizontal .underline[data-v-50dfb380]{height:%?4?%;width:auto;background-color:#e54d42;border-radius:3px;transition:.5s}",""]),e.exports=t},"36fd":function(e,t,a){"use strict";(function(e){var i=a("4ea4");a("4160"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("159b"),a("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var r=i(a("1da1")),n=(i(a("a9cd")),i(a("919f"))),s={data:function(){return{formName:"维修服务",tabs:["申请维修","查询维修记录"],defaultIndex:0,ifphone:!0,lookOrder:[],values:{username:"",mobile:"",phone:"",devicename:"",model:"",address:"",fault_describe:"",brand:"",remarks:""},actions1:[["打印机维修","一体机维修","绘图仪维修","晒鼓加粉","日常保养"]],actions2:[["得力","惠普","爱普生","兄弟","佳能","理光","联想","东芝","夏普","三星","松下","奔图","得实","富士通","小米","华为","震旦","斯图","六品堂","天文","正彩"]],actions3:[["打印机卡纸或不能走纸","打印机输出空白纸","打印纸输出变黑","打印字符不全或字符不清晰","打印时字迹一边清晰而另一边不清晰","打印头移动受阻，停下长鸣或在原处震动","更换新墨盒后“墨尽灯”仍亮","无法打印","其他问题"]]}},onReady:function(){this.setPickerData()},methods:{tabClick:function(t){e("log",t," at pages/index/subject/wxfw/wxfw.vue:73"),this.defaultIndex=t},getCode:function(){this.nCode=QSApp.sendSMS(this.values.phoneNum),e("log","nCode-Type:"+typeof this.nCode," at pages/index/subject/wxfw/wxfw.vue:78"),this.$refs.code.startCode()},setPickerData:function(){var e=this.actions1,t=this.actions2,a=this.actions3;this.setPickerDataFc("pickerCustom1",e),this.setPickerDataFc("pickerCustom2",t),this.setPickerDataFc("pickerCustom3",a)},setPickerDataFc:function(t,a){e("log",t,a," at pages/index/subject/wxfw/wxfw.vue:90"),e("log","准备 调用setData"," at pages/index/subject/wxfw/wxfw.vue:91"),this.$refs[t].setData(a)},toOrder:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(""!==t.values.username){a.next=5;break}return t.$api.msg("请输入姓名"),a.abrupt("return");case 5:if(""!==t.values.mobile){a.next=10;break}return t.$api.msg("请输入手机号"),a.abrupt("return");case 10:if(""!==t.values.address){a.next=13;break}return t.$api.msg("请输入维修地址"),a.abrupt("return");case 13:return e("log",t.values.remarks," at pages/index/subject/wxfw/wxfw.vue:107"),""!==t.values.remarks?t.values.remarks=t.values.remarks.data[0]:""!==t.values.fault_describe?t.values.fault_describe=t.values.fault_describe.data[0]:""!==t.values.brand&&(t.values.brand=t.values.brand.data[0]),i={username:t.values.username,mobile:t.values.mobile,service_address:t.values.address,fault_describe:t.values.fault_describe,brand:t.values.brand,equipment:t.values.devicename,remarks:t.values.remarks,equipment_model:t.values.model},e("log",i," at pages/index/subject/wxfw/wxfw.vue:125"),a.next=19,n.default.post("/service/create_order/",i).then((function(a){e("log",a," at pages/index/subject/wxfw/wxfw.vue:127"),201===a.status&&(t.$api.msg("提交成功"),setTimeout((function(){uni.redirectTo({url:"/pages/index/subject/wxfw/wxfw"})}),500))}));case 19:case"end":return a.stop()}}),a)})))()},todeviceOrder:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e("log",t.values.phone," at pages/index/subject/wxfw/wxfw.vue:143"),i=RegExp(/^1[34578]\d{9}$/),""!==t.values.phone){a.next=6;break}t.$api.msg("手机号不能为空"),a.next=12;break;case 6:if(i.test(t.values.phone)){a.next=10;break}t.$api.msg("手机号格式错误"),a.next=12;break;case 10:return a.next=12,n.default.get("service/get_order/"+t.values.phone).then((function(a){e("log",a," at pages/index/subject/wxfw/wxfw.vue:151"),200===a.status&&(t.ifphone=!1,a.data.forEach(function(){var a=(0,r.default)(regeneratorRuntime.mark((function a(i){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e("log",i," at pages/index/subject/wxfw/wxfw.vue:155"),a.next=3,n.default.get("service/pull_order/"+i.id).then((function(a){e("log",a," at pages/index/subject/wxfw/wxfw.vue:157"),t.lookOrder.push(a.data)}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()))}));case 12:case"end":return a.stop()}}),a)})))()}}};t.default=s}).call(this,a("0de9")["log"])},"9b34":function(e,t,a){"use strict";a.r(t);var i=a("c546"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},"9b4b":function(e,t,a){"use strict";var i=a("ff71"),r=a.n(i);r.a},a9cd:function(e,t,a){"use strict";a.r(t);var i=a("c76b"),r=a("9b34");for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);a("fb7f");var s,u=a("f0c5"),l=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"50dfb380",null,!1,i["a"],s);t["default"]=l.exports},b6e7:function(e,t,a){var i=a("2c4a");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("590cd768",i,!0,{sourceMap:!1,shadowMode:!1})},bddf:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* uni.scss */\n/* 主题色 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 页面左右间距 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 行为相关颜色 */.confirm-btn[data-v-7beca0b6]{width:%?630?%;height:%?76?%;line-height:%?76?%;border-radius:50px;margin-top:%?70?%;color:#fff;background:#fa436a;font-size:%?32?%;margin-bottom:%?40?%}.confirm-btn[data-v-7beca0b6]:after{border-radius:100px}',""]),e.exports=t},c546:function(e,t,a){"use strict";a("a9e3"),a("ac1f"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"liuyuno-tabs",props:{tabData:{type:Array,default:function(){return[]}},defaultIndex:{type:Number,default:0},underLinePadding:{type:Number,default:10}},data:function(){return{tabList:[],tabListSlider:[],box:{left:0,right:0,top:0,width:0,height:0,bottom:0},slider:{left:0,width:0,scrollLeft:0},activeIndex:0}},watch:{tabData:function(e){var t=this;this.tabList=e,setTimeout((function(){t.updateTabWidth()}),0)}},mounted:function(){var e=this;this.tabList=this.tabData,this.activeIndex=this.defaultIndex,setTimeout((function(){var t=uni.createSelectorQuery().in(e);t.select(".tab-box").boundingClientRect((function(t){e.box=t,e.updateTabWidth()})).exec()}),0)},methods:{tabClick:function(e){this.activeIndex=e,this.tabToIndex(e),this.$emit("tabClick",e)},tabToIndex:function(e){var t=this.tabListSlider[e];void 0!==t&&(this.slider={left:t.left+this.underLinePadding,width:t.width-2*this.underLinePadding,scrollLeft:t.scrollLeft})},updateTabWidth:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=this.tabList;if(0==a.length)return!1;var i=uni.createSelectorQuery().in(this);i.select("#tab_"+t).boundingClientRect((function(i){var r=e.tabListSlider[t-1];null!==i&&(e.tabListSlider[t]={left:i.left-e.box.left,width:i.width,scrollLeft:i.left-e.box.left-(r?r.width:0)}),e.activeIndex==t&&e.tabToIndex(e.activeIndex),t++,a.length>t&&e.updateTabWidth(t)})).exec()}}};t.default=i},c76b:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.tabList.length>0?a("v-uni-view",{staticClass:"tab-box",attrs:{id:"tab-box"}},[a("v-uni-view",{staticClass:"horizontal"},[a("v-uni-scroll-view",{staticStyle:{"white-space":"nowrap",display:"flex"},attrs:{"scroll-x":!0,"scroll-with-animation":!0,"scroll-left":e.slider.scrollLeft}},[e._l(e.tabList,(function(t,i){return[a("v-uni-view",{key:i+"_0",staticClass:"item",class:{active:e.activeIndex===i},attrs:{id:"tab_"+i},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.tabClick(i)}}},[e._v(e._s(t.text||t))])]})),a("v-uni-view",{staticClass:"underline",style:"transform:translateX("+e.slider.left+"px);width:"+e.slider.width+"px"})],2)],1)],1):e._e()},n=[]},e4ec:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var i={liuyunoTabs:a("a9cd").default},r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{attrs:{id:"wxfw"}},[a("v-uni-view",{staticClass:"img"},[a("v-uni-image",{staticStyle:{width:"100%",height:"150px"},attrs:{src:"/static/img/weixiu_banner.jpg",mode:""}})],1),a("liuyuno-tabs",{attrs:{tabData:e.tabs,defaultIndex:e.defaultIndex},on:{tabClick:function(t){arguments[0]=t=e.$handleEvent(t),e.tabClick.apply(void 0,arguments)}}}),0===e.defaultIndex?a("v-uni-view",{},[a("QSInput",{attrs:{name:e.formName,variableName:"username",title:"姓名",titleFlex:.5,required:!0},model:{value:e.values.username,callback:function(t){e.$set(e.values,"username",t)},expression:"values.username"}}),a("QSInput",{attrs:{name:e.formName,variableName:"mobile",title:"手机号",titleFlex:.5,required:!0},model:{value:e.values.mobile,callback:function(t){e.$set(e.values,"mobile",t)},expression:"values.mobile"}}),a("QSInput",{attrs:{name:e.formName,variableName:"address ",title:"维修地址",required:!0},model:{value:e.values.address,callback:function(t){e.$set(e.values,"address",t)},expression:"values.address"}}),a("QSInput",{attrs:{name:e.formName,variableName:"devicename",title:"设备名称",required:!0},model:{value:e.values.devicename,callback:function(t){e.$set(e.values,"devicename",t)},expression:"values.devicename"}}),a("QSInput",{attrs:{name:e.formName,variableName:"model",title:"规格型号",required:!0},model:{value:e.values.model,callback:function(t){e.$set(e.values,"model",t)},expression:"values.model"}}),a("QSPickerCustom",{ref:"pickerCustom1",attrs:{name:e.formName,required:!0,variableName:"remarks",title:"技术服务类型"},model:{value:e.values.remarks,callback:function(t){e.$set(e.values,"remarks",t)},expression:"values.remarks"}}),a("QSPickerCustom",{ref:"pickerCustom2",attrs:{name:e.formName,required:!0,variableName:"brand",title:"仪器品牌"},model:{value:e.values.brand,callback:function(t){e.$set(e.values,"brand",t)},expression:"values.brand"}}),a("QSPickerCustom",{ref:"pickerCustom3",attrs:{name:e.formName,required:!0,variableName:"fault_describe",title:"问题描述"},model:{value:e.values.fault_describe,callback:function(t){e.$set(e.values,"fault_describe",t)},expression:"values.fault_describe"}}),a("v-uni-button",{staticClass:"confirm-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toOrder.apply(void 0,arguments)}}},[e._v("提交订单")])],1):e._e(),1===e.defaultIndex?a("v-uni-view",{},[e.ifphone?a("v-uni-view",{},[a("QSInput",{attrs:{name:e.formName,variableName:"phone",titleFlex:.5,title:"手机号",required:!0},model:{value:e.values.phone,callback:function(t){e.$set(e.values,"phone",t)},expression:"values.phone"}}),a("v-uni-button",{staticClass:"confirm-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.todeviceOrder.apply(void 0,arguments)}}},[e._v("查询维修单")])],1):a("v-uni-view",{staticStyle:{background:"#fff",padding:"2upx 0"}},e._l(e.lookOrder,(function(t,i){return a("v-uni-view",{key:i,staticStyle:{margin:"20upx",background:"#ddd","border-radius":"40upx"}},[a("QSInput",{attrs:{name:e.formName,variableName:"id",title:"维修号",disabled:!0},model:{value:t.id,callback:function(a){e.$set(t,"id",a)},expression:"order.id"}}),a("QSInput",{attrs:{name:e.formName,variableName:"username",title:"姓名",disabled:!0},model:{value:t.username,callback:function(a){e.$set(t,"username",a)},expression:"order.username"}}),a("QSInput",{attrs:{name:e.formName,variableName:"mobile",maxLength:"11",title:"手机号",disabled:!0},model:{value:t.mobile,callback:function(a){e.$set(t,"mobile",a)},expression:"order.mobile"}}),a("QSInput",{attrs:{name:e.formName,variableName:"service_address",title:"维修地址",disabled:!0},model:{value:t.service_address,callback:function(a){e.$set(t,"service_address",a)},expression:"order.service_address"}}),a("QSInput",{attrs:{name:e.formName,variableName:"remarks",title:"状态",disabled:!0},model:{value:t.order_state,callback:function(a){e.$set(t,"order_state",a)},expression:"order.order_state"}}),a("QSInput",{attrs:{name:e.formName,variableName:"fault_describe",title:"问题描述",disabled:!0,if:"order.fault_describe === ''"},model:{value:t.fault_describe,callback:function(a){e.$set(t,"fault_describe",a)},expression:"order.fault_describe"}}),a("QSInput",{attrs:{name:e.formName,variableName:"create_time",title:"创建时间",disabled:!0},model:{value:t.create_time.split("T")[0]+" "+t.create_time.split("T")[1].split(".")[0],callback:function(a){e.$set(t.create_time.split("T")[0]+" "+t.create_time.split("T")[1].split("."),0,a)},expression:"order.create_time.split('T')[0] + ' ' + order.create_time.split('T')[1].split('.')[0]"}})],1)})),1)],1):e._e()],1)},n=[]},fb7f:function(e,t,a){"use strict";var i=a("b6e7"),r=a.n(i);r.a},ff71:function(e,t,a){var i=a("bddf");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("229f02c8",i,!0,{sourceMap:!1,shadowMode:!1})}}]);