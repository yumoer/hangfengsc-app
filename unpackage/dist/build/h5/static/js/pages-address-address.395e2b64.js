(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-address-address"],{"0807":function(e,t,n){"use strict";(function(e){var a=n("4ea4");n("99af"),n("4160"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=a(n("1da1")),s=a(n("919f")),d=a(n("6ae3")),r={data:function(){return{source:0,addressList:[],isEmpty:!1}},components:{xwEmpty:d.default},onLoad:function(e){this.source=e.source},onShow:function(){this.getAddress()},onNavigationBarButtonTap:function(t){var n=t.index;e("log",n," at pages/address/address.vue:53"),0===n&&uni.navigateTo({url:"/pages/address/addressManage?type=add&data=undefined"})},watch:{addressList:function(t){var n=0===t.length;e("log",this.isEmpty,n," at pages/address/address.vue:64"),this.isEmpty!==n&&(this.isEmpty=n)}},methods:{getAddress:function(t,n){var a=this;return(0,i.default)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return uni.showLoading(),i.next=3,(0,s.default)({url:"/user/addresses/",method:"get",headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(i){e("log",i.data," at pages/address/address.vue:81"),uni.hideLoading(),a.addressList=i.data.addresses,"add"===n&&a.addressList.push(t),a.addressList.forEach((function(e,n){e.id===i.data.default_address_id?e.default_address_id=!0:e.default_address_id=!1,null!==e.addressName?void 0!==t&&e.id===t.id&&(e.addressName=t.addressName):e.addressName=e.province+" "+e.city+" "+e.district+" "}))})).catch((function(t){e("log",t," at pages/address/address.vue:105")}));case 3:case"end":return i.stop()}}),i)})))()},condelete:function(t){var n=this;return(0,i.default)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e("log",t," at pages/address/address.vue:111"),n.$showModal({title:"提示",content:"确认删除地址?",cancelText:"取消",confirmText:"确认",success:function(){var a=(0,i.default)(regeneratorRuntime.mark((function a(i){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!i.confirm){a.next=3;break}return a.next=3,(0,s.default)({url:"/user/addresses/"+t.id+"/",method:"delete",headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(e){n.$api.msg("地址删除成功"),setTimeout((function(){n.getAddress()}),1e3)})).catch((function(t){e("log",t," at pages/address/address.vue:131")}));case 3:case"end":return a.stop()}}),a)})));function d(e){return a.apply(this,arguments)}return d}()});case 2:case"end":return a.stop()}}),a)})))()},check:function(t){var n=this;return(0,i.default)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n.$showModal({title:"提示",content:"确认设为默认地址?",cancelText:"取消",confirmText:"确认",success:function(){var a=(0,i.default)(regeneratorRuntime.mark((function a(i){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!i.confirm){a.next=7;break}if(!1!==t.default_address_id){a.next=6;break}return a.next=4,(0,s.default)({url:"/user/addresses/"+t.id+"/status/",method:"put",headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(e){200===e.status&&n.getAddress()})).catch((function(t){e("log",t.response," at pages/address/address.vue:159"),void 0===t.response&&n.$api.msg("服务器错误")}));case 4:a.next=7;break;case 6:n.$api.msg("已是默认地址");case 7:case"end":return a.stop()}}),a)})));function d(e){return a.apply(this,arguments)}return d}()});case 1:case"end":return a.stop()}}),a)})))()},checkAddress:function(e){1==this.source&&(this.$api.prePage().addressData=e,uni.navigateBack())},addAddress:function(t,n){e("log",n," at pages/address/address.vue:181"),uni.navigateTo({url:"/pages/address/addressManage?type=".concat(t,"&data=").concat(JSON.stringify(n))})},refreshList:function(t,n){e("log",t,n," at pages/address/address.vue:190"),this.getAddress(t,n)}}};t.default=r}).call(this,n("0de9")["log"])},"109c":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"xw-empty",props:{text:{type:String,default:""},img:{type:String,default:""},textColor:{type:String,default:""},isShow:{type:Boolean,default:!1},btnText:{type:String,default:""},path:{type:String,default:""}},methods:{navTo:function(t){e("log",t," at components/xw-empty/xw-empty.vue:40"),uni.switchTab({url:t}),uni.navigateTo({url:t})}}};t.default=n}).call(this,n("0de9")["log"])},"1b82":function(e,t,n){var a=n("c17c");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("0d13b6f8",a,!0,{sourceMap:!1,shadowMode:!1})},"2a24":function(e,t,n){"use strict";n.r(t);var a=n("0807"),i=n.n(a);for(var s in a)"default"!==s&&function(e){n.d(t,e,(function(){return a[e]}))}(s);t["default"]=i.a},"367e":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("v-uni-view",{staticClass:"empty"},[n("v-uni-image",{staticClass:"empty_image",attrs:{src:e.img,mode:"widthFix"}}),n("v-uni-text",{style:{color:e.textColor}},[e._v(e._s(e.text))]),e.path?n("v-uni-button",{staticClass:"add-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.navTo(e.path)}}},[e._v(e._s(e.btnText))]):e._e()],1):e._e()},s=[]},3842:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}));var a={xwEmpty:n("6ae3").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content b-t"},[e._l(e.addressList,(function(t,a){return n("v-uni-view",{key:a,staticClass:"list",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.checkAddress(t)}}},[n("v-uni-view",{staticClass:"wrapper"},[n("v-uni-view",{staticClass:"u-box"},[n("v-uni-text",{staticClass:"name"},[e._v(e._s(t.receiver))]),n("v-uni-text",{staticClass:"mobile"},[e._v(e._s(t.mobile))])],1),n("v-uni-view",{staticClass:"address-box"},[n("v-uni-text",{staticClass:"address"},[e._v(e._s(t.addressName)+" "+e._s(t.place))])],1),"1"!==e.source?n("v-uni-view",{staticClass:"yticon icon-xuanzhong checkbox",class:{checked:t.default_address_id},staticStyle:{display:"inline-block"}},[n("v-uni-text",{staticStyle:{color:"#666","margin-left":"10upx"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.check(t)}}},[e._v("设为默认")]),n("v-uni-text",{staticStyle:{color:"#999",float:"right"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.condelete(t)}}},[e._v("删除")])],1):e._e()],1),n("v-uni-text",{staticClass:"yticon icon-order-edit",on:{click:function(n){n.stopPropagation(),arguments[0]=n=e.$handleEvent(n),e.addAddress("edit",t)}}})],1)})),n("v-uni-button",{staticClass:"add-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addAddress("add")}}},[e._v("添加新地址")]),0===e.addressList.length?n("v-uni-view",{staticStyle:{position:"relative"}},[n("xw-empty",{attrs:{isShow:e.isEmpty,img:"/static/empty/emptyAddress.png",text:"您暂时还没有添加地址",textColor:"#C0C4CC"}}),n("v-uni-button",{staticClass:"add-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addAddress("add")}}},[e._v("添加新地址")])],1):e._e(),n("show-modal")],2)},s=[]},"4e6c":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* uni.scss */\n/* 主题色 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 页面左右间距 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 行为相关颜色 */.empty[data-v-d662ec24]{position:relative;left:0;top:0;width:100%;height:80vh;padding-bottom:%?100?%;display:flex;justify-content:center;flex-direction:column;align-items:center;background:#f7f7f7}.empty .empty_image[data-v-d662ec24]{width:%?517.7?%;height:%?360.425?%;margin-bottom:%?30?%}.empty .empty-tips[data-v-d662ec24]{display:flex;justify-content:center;font-size:%?26?%;color:#c0c4cc}.empty .empty-tips .navigator[data-v-d662ec24]{color:#fa436a;margin-left:%?16?%}.empty .add-btn[data-v-d662ec24]{margin-top:%?40?%;font-size:%?32?%;width:%?234?%;color:#ee1d23;background-color:#fa436a;border-radius:%?50?%;background:#fff;box-shadow:1px 2px 5px rgba(219,63,96,.4);letter-spacing:%?6?%}',""]),e.exports=t},"506e":function(e,t,n){"use strict";var a=n("1b82"),i=n.n(a);i.a},"5d11":function(e,t,n){var a=n("4e6c");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("1379280d",a,!0,{sourceMap:!1,shadowMode:!1})},6177:function(e,t,n){"use strict";var a=n("5d11"),i=n.n(a);i.a},"66bc":function(e,t,n){"use strict";n.r(t);var a=n("3842"),i=n("2a24");for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n("506e");var d,r=n("f0c5"),o=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"7b4e668d",null,!1,a["a"],d);t["default"]=o.exports},"6ae3":function(e,t,n){"use strict";n.r(t);var a=n("367e"),i=n("d8ae");for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n("6177");var d,r=n("f0c5"),o=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"d662ec24",null,!1,a["a"],d);t["default"]=o.exports},c17c:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* uni.scss */\n/* 主题色 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 页面左右间距 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 行为相关颜色 */[data-v-7b4e668d] uni-radio .uni-radio-input{width:%?30?%;height:%?30?%}.content[data-v-7b4e668d]{position:relative;padding-bottom:%?120?%;width:100%;padding:%?30?% %?30?% %?100?% %?30?%}.checkbox[data-v-7b4e668d]{width:100%;z-index:8;font-size:%?28?%;height:30px;line-height:30px;padding:%?4?%;color:#c0c4cc;border-top:%?2?% solid #ddd}\n/* 复选框选中状态 */.checked[data-v-7b4e668d]{color:#ee1d23}.list[data-v-7b4e668d]{display:flex;align-items:center;padding:%?20?% %?30?%;background:#fff;position:relative;margin-bottom:%?20?%;border-radius:%?20?%}.wrapper[data-v-7b4e668d]{display:flex;flex-direction:column;flex:1}.address-box[data-v-7b4e668d]{display:flex;align-items:center;padding-bottom:%?24?%;width:100%}.address-box .tag[data-v-7b4e668d]{font-size:%?24?%;color:#fa436a;margin-right:%?20?%;background:#fffafb;border:1px solid #ffb4c7;border-radius:%?4?%;padding:%?4?% %?12?%;line-height:15px;width:24px}.address-box .address[data-v-7b4e668d]{font-size:%?30?%;color:#666;letter-spacing:%?2?%;width:85%}.u-box[data-v-7b4e668d]{font-size:%?28?%;color:#909399;margin:%?16?% 0}.u-box .name[data-v-7b4e668d]{margin-right:%?30?%;color:#333;font-size:%?32?%;font-weight:700;letter-spacing:%?3?%}.u-box .mobile[data-v-7b4e668d]{color:#666;font-size:%?26?%;font-weight:700}.icon-order-edit[data-v-7b4e668d]{display:flex;align-items:center;height:%?80?%;font-size:%?50?%;color:#909399;padding-left:%?30?%;right:%?30?%;top:%?50?%;position:absolute}.add-btn[data-v-7b4e668d]{position:fixed;left:%?30?%;right:%?30?%;bottom:%?60?%;z-index:95;display:flex;align-items:center;justify-content:center;width:%?590?%;height:%?80?%;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?50?%;background:linear-gradient(90deg,#ee1d23,#f04023);box-shadow:1px 2px 5px rgba(219,63,96,.4);letter-spacing:%?6?%}',""]),e.exports=t},d8ae:function(e,t,n){"use strict";n.r(t);var a=n("109c"),i=n.n(a);for(var s in a)"default"!==s&&function(e){n.d(t,e,(function(){return a[e]}))}(s);t["default"]=i.a}}]);