(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-invoice-invoiceManages"],{"124a":function(e,t,i){"use strict";var n=i("4b68"),a=i.n(n);a.a},"2b12":function(e,t,i){"use strict";(function(e){var n=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var a=n(i("1da1")),o=n(i("919f")),r={data:function(){return{invoiceData:{type:this.type,invoice_bank:"",invoice_bank_code:"",invoice_org_code:"",invoice_phone:"",invoice_title:"",register_address:""},type:null,manageType:{},form_address:{},default_address_id:!1}},onLoad:function(e){var t="新增发票";"edit"===e.type&&(t="编辑发票",this.invoiceData=JSON.parse(e.data)),this.type=e.type,this.manageType=e.type,uni.setNavigationBarTitle({title:t})},onShow:function(){},methods:{confirm:function(t){var i=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e("log",t," at pages/invoice/invoiceManages.vue:88"),t.invoice_title){n.next=4;break}return i.$api.msg("请填写发票抬头"),n.abrupt("return");case 4:if(t.invoice_org_code){n.next=7;break}return i.$api.msg("请填写纳税人识别号"),n.abrupt("return");case 7:i.invoiceData.invoice_title=t.invoice_title,i.invoiceData.invoice_org_code=t.invoice_org_code,i.invoiceData.register_address=t.register_address,i.invoiceData.invoice_phone=t.invoice_phone,i.invoiceData.invoice_bank=t.invoice_bank,i.invoiceData.invoice_bank_code=t.invoice_bank_code,i.$api.prePage().refreshList(t,i.manageType),"edit"===i.manageType?i.setInvoice(t):"add"===i.manageType&&i.getInvoice(t);case 15:case"end":return n.stop()}}),n)})))()},setInvoice:function(t){var i=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return uni.showLoading(),n.next=3,(0,o.default)({url:"/orders/invoice/"+t.id+"/",data:t,method:"put",resposeType:"json",headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(e){uni.navigateBack(),setTimeout((function(){i.$api.msg("发票修改成功"),uni.hideLoading()}),800)})).catch((function(t){e("log",t," at pages/invoice/invoiceManages.vue:164")}));case 3:n.sent;case 4:case"end":return n.stop()}}),n)})))()},getInvoice:function(t){var i=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return uni.showLoading(),n.next=3,(0,o.default)({url:"/orders/invoice/",method:"post",data:t,headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(e){uni.navigateBack(),setTimeout((function(){uni.hideLoading(),i.$api.msg("发票添加成功")}),800)})).catch((function(t){e("log",t," at pages/invoice/invoiceManages.vue:185")}));case 3:n.sent;case 4:case"end":return n.stop()}}),n)})))()},condelete:function(t){var i=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i.$showModal({title:"提示",content:"是否确认删除?",cancelText:"取消",confirmText:"确认",success:function(){var n=(0,a.default)(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!a.confirm){n.next=5;break}return uni.showLoading(),n.next=4,(0,o.default)({url:"/orders/invoice/"+t.id+"/",method:"delete",headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(e){i.$api.prePage().refreshList(t),uni.navigateBack(),setTimeout((function(){uni.showLoading(),i.$api.msg("发票删除成功")}),800)})).catch((function(t){e("log",t," at pages/invoice/invoiceManages.vue:213")}));case 4:n.sent;case 5:case"end":return n.stop()}}),n)})));function r(e){return n.apply(this,arguments)}return r}()});case 1:case"end":return n.stop()}}),n)})))()}}};t.default=r}).call(this,i("0de9")["log"])},4272:function(e,t,i){"use strict";i.r(t);var n=i("2b12"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},"4b68":function(e,t,i){var n=i("f782");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("fc163d90",n,!0,{sourceMap:!1,shadowMode:!1})},"6d22":function(e,t,i){"use strict";i.r(t);var n=i("773e"),a=i("4272");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("124a");var r,c=i("f0c5"),s=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"7d39800b",null,!1,n["a"],r);t["default"]=s.exports},"773e":function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"invoice"},[i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[i("v-uni-text",{staticStyle:{color:"#fa436a","margin-right":"10upx"}},[e._v("*")]),e._v("发票抬头")],1),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入发票抬头(必填)","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_title,callback:function(t){e.$set(e.invoiceData,"invoice_title",t)},expression:"invoiceData.invoice_title"}})],1),(e.invoiceData.register_address,i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[i("v-uni-text",{staticStyle:{color:"#fa436a","margin-right":"6upx"}},[e._v("*")]),e._v("纳税人识别号")],1),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入纳税人识别号(必填)","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_org_code,callback:function(t){e.$set(e.invoiceData,"invoice_org_code",t)},expression:"invoiceData.invoice_org_code"}})],1)),i("v-uni-view",{},[i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[e._v("注册地址")]),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入注册地址","placeholder-class":"placeholder"},model:{value:e.invoiceData.register_address,callback:function(t){e.$set(e.invoiceData,"register_address",t)},expression:"invoiceData.register_address"}})],1),i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[e._v("注册电话")]),i("v-uni-input",{staticClass:"input",attrs:{maxlength:11,type:"number",placeholder:"请输入注册电话","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_phone,callback:function(t){e.$set(e.invoiceData,"invoice_phone",t)},expression:"invoiceData.invoice_phone"}})],1),i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[e._v("开户银行")]),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入开户银行","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_bank,callback:function(t){e.$set(e.invoiceData,"invoice_bank",t)},expression:"invoiceData.invoice_bank"}})],1),i("v-uni-view",{staticClass:"row"},[i("v-uni-text",{staticClass:"tit"},[e._v("开户行账号")]),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入开户行账号","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_bank_code,callback:function(t){e.$set(e.invoiceData,"invoice_bank_code",t)},expression:"invoiceData.invoice_bank_code"}})],1)],1)],1),"add"===e.type?i("v-uni-view",{staticClass:"fixed-button"},[i("v-uni-button",{staticClass:"add-btns",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm(e.invoiceData)}}},[e._v("提交")])],1):i("v-uni-view",{staticClass:"fixed-button"},[i("v-uni-button",{staticClass:"del-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.condelete(e.invoiceData)}}},[e._v("删除")]),i("v-uni-button",{staticClass:"add-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm(e.invoiceData)}}},[e._v("保存")])],1),i("show-modal")],1)},o=[]},f782:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* uni.scss */\n/* 主题色 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 页面左右间距 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-7d39800b]{background:#f8f8f8}.content[data-v-7d39800b]{padding:%?30?%;border-radius:%?20?%}.invoice[data-v-7d39800b]{width:100%;height:100%;background-color:#fff;border-radius:%?20?%}.row[data-v-7d39800b]{display:flex;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%}.row .tit[data-v-7d39800b]{flex-shrink:0;width:%?210?%;font-size:%?28?%;color:#666}.row .input[data-v-7d39800b]{flex:1;font-size:%?28?%;color:#333;font-weight:700}.row .icon-shouhuodizhi[data-v-7d39800b]{font-size:%?36?%;color:#909399}.default-row[data-v-7d39800b]{margin-top:%?16?%}.default-row .tit[data-v-7d39800b]{flex:1}.default-row uni-switch[data-v-7d39800b]{-webkit-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.fixed-button[data-v-7d39800b]{position:relative;width:100%;display:flex}.fixed-button .add-btn[data-v-7d39800b]{display:flex;align-items:center;justify-content:center;width:%?290?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-image:linear-gradient(90deg,#ee1d23,#f04023);border-radius:%?40?%;box-shadow:1px 2px 5px rgba(219,63,96,.6)}.fixed-button .add-btns[data-v-7d39800b]{display:flex;align-items:center;justify-content:center;width:%?590?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-image:linear-gradient(90deg,#ee1d23,#f04023);border-radius:%?40?%;box-shadow:1px 2px 5px rgba(219,63,96,.6)}.fixed-button .del-btn[data-v-7d39800b]{display:flex;align-items:center;justify-content:center;width:%?290?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;border-radius:%?60?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}body.?%PAGE?%[data-v-7d39800b]{background:#f8f8f8}',""]),e.exports=t}}]);