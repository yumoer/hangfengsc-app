(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-invoice-invoice"],{"0160":function(t,e,i){var n=i("cbe5");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("cb3eb48a",n,!0,{sourceMap:!1,shadowMode:!1})},"169c":function(t,e,i){t.exports=i.p+"static/img/icon.07c3ee1e.png"},"219f":function(t,e,i){"use strict";var n=i("0160"),a=i.n(n);a.a},"3a24":function(t,e,i){"use strict";(function(t){var n=i("ee27");i("99af"),i("4160"),i("a434"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var a=n(i("c964")),o=n(i("2fb7")),r=n(i("ece4")),s={components:{uniPopup:r.default},data:function(){return{source:0,couponList:[]}},onShow:function(){void 0!==this.$refs.popup&&this.$refs.popup.close()},onLoad:function(e){t.log(e.source),this.source=e.source,this.getInvoice()},onNavigationBarButtonTap:function(e){var i=e.index;t.log(i),0===i&&this.addInvoIce("add",2)},methods:{checkInvoice:function(t){1==this.source&&(this.$api.prePage().couponList=t,uni.navigateBack())},getInvoice:function(e,i){var n=this;return(0,a.default)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,(0,o.default)({url:"/orders/invoice/",method:"get",headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(a){t.log(a),n.couponList=a.data,"add"===i?n.couponList.push(e):"edit"===i&&n.couponList.forEach((function(t,i){void 0!==e&&t.id===e.id&&(t.invoice_title=e.invoice_title,t.invoice_org_code=e.invoice_org_code,t.register_address=e.register_address,t.invoice_phone=e.invoice_phone,t.invoice_bank=e.invoice_bank,t.invoice_bank_code=e.invoice_bank_code)})),n.$refs.popup.close(),n.couponList.length})).catch((function(t){}));case 2:a.sent;case 3:case"end":return a.stop()}}),a)})))()},addInvoIce:function(e,i){t.log(i,e),"add"===e?uni.navigateTo({url:"/pages/invoice/invoiceManages?type=".concat(e,"&data=").concat(JSON.stringify(i))}):"edit"===e&&uni.navigateTo({url:"/pages/invoice/invoiceManages?type=".concat(e,"&data=").concat(JSON.stringify(i))})},refreshList:function(e,i){t.log(e,i),"add"===i?this.getInvoice(e,i):"edit"===i?this.getInvoice(e,i):(this.couponList.splice(e,1),this.getInvoice(e,i))}}};e.default=s}).call(this,i("5a52")["default"])},"3fd66":function(t,e,i){"use strict";var n=i("ee27");i("4160"),i("a9e3"),i("ac1f"),i("5319"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("f3f3")),o={name:"uniTransition",props:{show:{type:Boolean,default:!1},modeClass:{type:Array,default:function(){return[]}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}}},data:function(){return{isShow:!1,transform:"",ani:{in:"",active:""}}},watch:{show:{handler:function(t){t?this.open():this.close()},immediate:!0}},computed:{stylesObject:function(){var t=(0,a.default)({},this.styles,{"transition-duration":this.duration/1e3+"s"}),e="";for(var i in t){var n=this.toLine(i);e+=n+":"+t[i]+";"}return e}},created:function(){},methods:{change:function(){this.$emit("click",{detail:this.isShow})},open:function(){var t=this;for(var e in this.isShow=!0,this.transform="",this.ani.in="",this.getTranfrom(!1))"opacity"===e?this.ani.in="fade-in":this.transform+="".concat(this.getTranfrom(!1)[e]," ");this.$nextTick((function(){setTimeout((function(){t._animation(!0)}),50)}))},close:function(t){this._animation(!1)},_animation:function(t){var e=this,i=this.getTranfrom(t);for(var n in this.transform="",i)"opacity"===n?this.ani.in="fade-".concat(t?"out":"in"):this.transform+="".concat(i[n]," ");clearTimeout(this.timer),this.timer=setTimeout((function(){t||(e.isShow=!1),e.$emit("change",{detail:e.isShow})}),this.duration)},getTranfrom:function(t){var e={transform:""};return this.modeClass.forEach((function(i){switch(i){case"fade":e.opacity=t?1:0;break;case"slide-top":e.transform+="translateY(".concat(t?"0":"-100%",") ");break;case"slide-right":e.transform+="translateX(".concat(t?"0":"100%",") ");break;case"slide-bottom":e.transform+="translateY(".concat(t?"0":"100%",") ");break;case"slide-left":e.transform+="translateX(".concat(t?"0":"-100%",") ");break;case"zoom-in":e.transform+="scale(".concat(t?1:.8,") ");break;case"zoom-out":e.transform+="scale(".concat(t?1:1.2,") ");break}})),e},_modeClassArr:function(t){var e=this.modeClass;if("string"!==typeof e){var i="";return e.forEach((function(e){i+=e+"-"+t+","})),i.substr(0,i.length-1)}return e+"-"+t},toLine:function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}}};e.default=o},4108:function(t,e,i){"use strict";var n={uniTransition:i("f368").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showPopup?i("v-uni-view",{staticClass:"uni-popup",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[i("uni-transition",{attrs:{"mode-class":["fade"],styles:t.maskClass,duration:t.duration,show:t.showTrans},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}}),i("uni-transition",{attrs:{"mode-class":t.ani,styles:t.transClass,duration:t.duration,show:t.showTrans},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-popup__wrapper-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[t._t("default")],2)],1)],1):t._e()},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"41e1":function(t,e,i){"use strict";i.r(e);var n=i("cf01"),a=i("6e3f");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("8ec3");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"2a96844a",null,!1,n["a"],r);e["default"]=c.exports},"4b91":function(t,e,i){"use strict";var n=i("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("f368")),o={name:"UniPopup",components:{uniTransition:a.default},props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},maskClick:{type:Boolean,default:!0}},data:function(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0}}},watch:{type:{handler:function(t){switch(this.type){case"top":this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0};break;case"bottom":this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0};break;case"center":this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"};break}},immediate:!0}},created:function(){this.animation?this.duration=300:this.duration=0},methods:{clear:function(t){t.stopPropagation()},open:function(){var t=this;this.showPopup=!0,this.$nextTick((function(){clearTimeout(t.timer),t.timer=setTimeout((function(){t.showTrans=!0}),50)})),this.$emit("change",{show:!0})},close:function(t){var e=this;this.showTrans=!1,this.$nextTick((function(){clearTimeout(e.timer),e.timer=setTimeout((function(){e.$emit("change",{show:!1}),e.showPopup=!1}),300)}))},onTap:function(){this.maskClick&&this.close()}}};e.default=o},"4d7c":function(t,e,i){"use strict";i.r(e);var n=i("4b91"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"558d":function(t,e,i){var n=i("6e61");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("2e297758",n,!0,{sourceMap:!1,shadowMode:!1})},"6e3f":function(t,e,i){"use strict";i.r(e);var n=i("3a24"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"6e61":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".uni-transition[data-v-17fb16cc]{-webkit-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-duration:.3s;transition-duration:.3s;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform}.fade-in[data-v-17fb16cc]{opacity:0}.fade-active[data-v-17fb16cc]{opacity:1}.slide-top-in[data-v-17fb16cc]{\n\t/* transition-property: transform, opacity; */-webkit-transform:translateY(-100%);transform:translateY(-100%)}.slide-top-active[data-v-17fb16cc]{-webkit-transform:translateY(0);transform:translateY(0)\n\t/* opacity: 1; */}.slide-right-in[data-v-17fb16cc]{-webkit-transform:translateX(100%);transform:translateX(100%)}.slide-right-active[data-v-17fb16cc]{-webkit-transform:translateX(0);transform:translateX(0)}.slide-bottom-in[data-v-17fb16cc]{-webkit-transform:translateY(100%);transform:translateY(100%)}.slide-bottom-active[data-v-17fb16cc]{-webkit-transform:translateY(0);transform:translateY(0)}.slide-left-in[data-v-17fb16cc]{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.slide-left-active[data-v-17fb16cc]{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}.zoom-in-in[data-v-17fb16cc]{-webkit-transform:scale(.8);transform:scale(.8)}.zoom-out-active[data-v-17fb16cc]{-webkit-transform:scale(1);transform:scale(1)}.zoom-out-in[data-v-17fb16cc]{-webkit-transform:scale(1.2);transform:scale(1.2)}",""]),t.exports=e},"6e92":function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShow?i("v-uni-view",{ref:"ani",staticClass:"uni-transition",class:[t.ani.in],style:"transform:"+t.transform+";"+t.stylesObject,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[t._t("default")],2):t._e()},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"8ec3":function(t,e,i){"use strict";var n=i("bd58"),a=i.n(n);a.a},9211:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 页面左右间距 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-2a96844a]{\n  /* padding-bottom: 120upx; */height:0%}.content[data-v-2a96844a]{position:relative}.list[data-v-2a96844a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?% %?30?%;background:#6b6b6b;position:relative}.coupon-item[data-v-2a96844a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\n  /* margin: 20upx 24upx; */background:#fff}.coupon-item .con[data-v-2a96844a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;height:%?120?%;padding:0 %?30?%}.coupon-item .con[data-v-2a96844a]:after{position:absolute;left:0;bottom:0;content:"";width:100%;height:0;border-bottom:1px dashed #f3f3f3;-webkit-transform:scaleY(50%);transform:scaleY(50%)}.coupon-item .left[data-v-2a96844a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;height:%?100?%}.coupon-item .title[data-v-2a96844a]{font-size:%?32?%;color:#303133;margin-bottom:%?10?%}.coupon-item .time[data-v-2a96844a]{font-size:%?24?%;color:#909399}.coupon-item .right[data-v-2a96844a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?26?%;color:#606266;height:%?100?%}.coupon-item .price[data-v-2a96844a]{font-size:%?34?%;color:#fa436a}.coupon-item .price[data-v-2a96844a]:before{font-size:%?34?%}.coupon-item .tips[data-v-2a96844a]{font-size:%?24?%;color:#909399;line-height:%?60?%;padding-left:%?30?%}.coupon-item .circle[data-v-2a96844a]{position:absolute;left:%?-6?%;bottom:%?-10?%;z-index:10;width:%?20?%;height:%?20?%;background:#f3f3f3;border-radius:100px}.coupon-item .circle.r[data-v-2a96844a]{left:auto;right:%?-6?%}.wrapper[data-v-2a96844a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;flex:1}.address-box[data-v-2a96844a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.address-box .tag[data-v-2a96844a]{font-size:%?24?%;color:#fa436a;margin-right:%?10?%;background:#fffafb;border:1px solid #ffb4c7;border-radius:%?4?%;padding:%?4?% %?12?%;line-height:1;width:24px}.address-box .address[data-v-2a96844a]{font-size:%?30?%;color:#303133}.u-box[data-v-2a96844a]{font-size:%?28?%;color:#909399;margin-top:%?16?%}.u-box .name[data-v-2a96844a]{margin-right:%?30?%}.icon-bianji[data-v-2a96844a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?80?%;font-size:%?40?%;color:#909399;padding-left:%?20?%}.add-btn[data-v-2a96844a]{position:fixed;left:%?30?%;right:%?30?%;bottom:%?16?%;z-index:95;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}.add-btns[data-v-2a96844a]{position:fixed;left:%?30?%;right:%?30?%;bottom:%?120?%;z-index:95;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}',""]),t.exports=e},bd58:function(t,e,i){var n=i("9211");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("12f0065e",n,!0,{sourceMap:!1,shadowMode:!1})},cbe5:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 页面左右间距 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 行为相关颜色 */.uni-popup[data-v-cdf97ea0]{position:fixed;top:var(--window-top);bottom:0;left:0;right:0;z-index:99}.uni-popup__mask[data-v-cdf97ea0]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.4);opacity:0}.mask-ani[data-v-cdf97ea0]{-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:.2s;transition-duration:.2s}.uni-top-mask[data-v-cdf97ea0]{opacity:1}.uni-bottom-mask[data-v-cdf97ea0]{opacity:1}.uni-center-mask[data-v-cdf97ea0]{opacity:1}.uni-popup__wrapper[data-v-cdf97ea0]{display:block;position:absolute}.top[data-v-cdf97ea0]{top:0;left:0;right:0;-webkit-transform:translateY(-500px);transform:translateY(-500px)}.bottom[data-v-cdf97ea0]{bottom:0;left:0;right:0;-webkit-transform:translateY(500px);transform:translateY(500px)}.center[data-v-cdf97ea0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;bottom:0;left:0;right:0;top:0;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-transform:scale(1.2);transform:scale(1.2);opacity:0}.uni-popup__wrapper-box[data-v-cdf97ea0]{display:block;position:relative}.content-ani[data-v-cdf97ea0]{-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform;-webkit-transition-duration:.2s;transition-duration:.2s}.uni-top-content[data-v-cdf97ea0]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-bottom-content[data-v-cdf97ea0]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-center-content[data-v-cdf97ea0]{-webkit-transform:scale(1);transform:scale(1);opacity:1}',""]),t.exports=e},cf01:function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content b-t"},[t._l(t.couponList,(function(e,i){return t.couponList.length>0?n("v-uni-view",{key:i,on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkInvoice(e)}}},[n("v-uni-view",{staticClass:"coupon-item"},[n("v-uni-view",{staticClass:"con"},[n("v-uni-view",{staticClass:"left"},[n("v-uni-text",{staticClass:"title"},[t._v(t._s(e.invoice_title))]),n("v-uni-text",{staticClass:"time"},[t._v(t._s(e.invoice_org_code))])],1),n("v-uni-view",{staticClass:"right"},[""===e.invoice_bank||""===e.invoice_bank_code||""===e.invoice_phone||""===e.register_address?n("v-uni-text",{staticClass:"price"},[t._v("普票/电子票")]):n("v-uni-text",{staticClass:"price"},[t._v("增值税发票")])],1),n("v-uni-text",{staticClass:"yticon icon-bianji",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.addInvoIce("edit",e)}}})],1)],1)],1):t._e()})),0===t.couponList.length?n("v-uni-view",{staticStyle:{position:"relative"}},[n("v-uni-image",{staticStyle:{width:"200px",height:"200px",position:"absolute",left:"0",right:"0",top:"120px",margin:"auto"},attrs:{src:i("169c").replace(/^\./,""),mode:""}}),n("v-uni-text",{staticStyle:{position:"absolute",left:"0",right:"0",top:"330px",margin:"0px auto","text-align":"center","font-size":"16px"}},[t._v("暂无发票,点击右上方添加发票")])],1):t._e()],2)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},cf2e:function(t,e,i){"use strict";i.r(e);var n=i("3fd66"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},ece4:function(t,e,i){"use strict";i.r(e);var n=i("4108"),a=i("4d7c");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("219f");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"cdf97ea0",null,!1,n["a"],r);e["default"]=c.exports},f368:function(t,e,i){"use strict";i.r(e);var n=i("6e92"),a=i("cf2e");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("fa41");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"17fb16cc",null,!1,n["a"],r);e["default"]=c.exports},fa41:function(t,e,i){"use strict";var n=i("558d"),a=i.n(n);a.a}}]);