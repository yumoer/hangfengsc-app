(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-invoice-invoiceManage"],{"01de":function(e,t,n){"use strict";var a=n("843e"),i=n.n(a);i.a},"843e":function(e,t,n){var a=n("d276");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("1910a841",a,!0,{sourceMap:!1,shadowMode:!1})},"8df4":function(e,t,n){"use strict";(function(e){var a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=a(n("1da1")),o=a(n("919f")),r={data:function(){return{invoiceData:{invoice_bank:"",invoice_bank_code:"",invoice_org_code:"",invoice_phone:"",invoice_title:"",register_address:""},type:null,manageType:{},form_address:{},default_address_id:!1}},onLoad:function(e){var t="新增普票/电子票";"edit"===e.type&&(t="编辑普票/电子票",this.invoiceData=JSON.parse(e.data)),this.type=e.data,this.manageType=e.type,uni.setNavigationBarTitle({title:t})},onShow:function(){},methods:{confirm:function(t){var n=this;return(0,i.default)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e("log",t," at pages/invoice/invoiceManage.vue:55"),t.invoice_title){a.next=4;break}return n.$api.msg("请填写发票抬头"),a.abrupt("return");case 4:if(t.invoice_org_code){a.next=7;break}return n.$api.msg("请填写纳税人识别号"),a.abrupt("return");case 7:n.invoiceData.invoice_title=t.invoice_title,n.invoiceData.invoice_org_code=t.invoice_org_code,n.invoiceData.register_address=null,n.invoiceData.invoice_phone=null,n.invoiceData.invoice_bank=null,n.invoiceData.invoice_bank_code=null,"edit"===n.manageType?n.setInvoice(t):"add"===n.manageType&&n.getInvoice(t),n.$api.prePage().refreshList(t,n.manageType),n.$api.msg("发票".concat("edit"==n.manageType?"修改":"添加","成功")),setTimeout((function(){uni.navigateBack()}),800);case 17:case"end":return a.stop()}}),a)})))()},setInvoice:function(t){return(0,i.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,o.default)({url:"/orders/invoice/"+t.id+"/",data:t,method:"put",resposeType:"json",headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(t){e("log",t," at pages/invoice/invoiceManage.vue:94")})).catch((function(t){e("log",t," at pages/invoice/invoiceManage.vue:96")}));case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))()},getInvoice:function(t){return(0,i.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,o.default)({url:"/orders/invoice/",method:"post",data:t,headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(t){e("log",t," at pages/invoice/invoiceManage.vue:108")})).catch((function(t){e("log",t," at pages/invoice/invoiceManage.vue:110")}));case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))()},condelete:function(t){var n=this;return(0,i.default)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e("log",t," at pages/invoice/invoiceManage.vue:116"),a.next=3,(0,o.default)({url:"/orders/invoice/"+t.id+"/",method:"delete",headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(t){e("log",t," at pages/invoice/invoiceManage.vue:124"),n.$api.msg("删除成功"),setTimeout((function(){uni.navigateBack()}),800)})).catch((function(t){e("log",t," at pages/invoice/invoiceManage.vue:131")}));case 3:a.sent;case 4:case"end":return a.stop()}}),a)})))()}}};t.default=r}).call(this,n("0de9")["log"])},d276:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* uni.scss */\n/* 主题色 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 页面左右间距 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-d2438fda]{background:#f8f8f8;padding-top:%?16?%}.row[data-v-d2438fda]{display:flex;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff}.row .tit[data-v-d2438fda]{flex-shrink:0;width:%?200?%;font-size:%?30?%;color:#303133}.row .input[data-v-d2438fda]{flex:1;font-size:%?30?%;color:#303133}.row .icon-shouhuodizhi[data-v-d2438fda]{font-size:%?36?%;color:#909399}.default-row[data-v-d2438fda]{margin-top:%?16?%}.default-row .tit[data-v-d2438fda]{flex:1}.default-row uni-switch[data-v-d2438fda]{-webkit-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.add-btn[data-v-d2438fda]{display:flex;align-items:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.6)}.del-btn[data-v-d2438fda]{display:flex;align-items:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}body.?%PAGE?%[data-v-d2438fda]{background:#f8f8f8}',""]),e.exports=t},d2e9:function(e,t,n){"use strict";n.r(t);var a=n("f1e7"),i=n("e3b7");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("01de");var r,c=n("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"d2438fda",null,!1,a["a"],r);t["default"]=s.exports},e3b7:function(e,t,n){"use strict";n.r(t);var a=n("8df4"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},f1e7:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"row b-b"},[n("v-uni-text",{staticClass:"tit"},[e._v("发票抬头")]),n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入发票抬头","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_title,callback:function(t){e.$set(e.invoiceData,"invoice_title",t)},expression:"invoiceData.invoice_title"}})],1),n("v-uni-view",{staticClass:"row b-b"},[n("v-uni-text",{staticClass:"tit"},[e._v("纳税人识别号")]),n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入纳税人识别号","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_org_code,callback:function(t){e.$set(e.invoiceData,"invoice_org_code",t)},expression:"invoiceData.invoice_org_code"}})],1),n("v-uni-button",{staticClass:"add-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm(e.invoiceData)}}},[e._v("提交")]),n("v-uni-button",{staticClass:"del-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.condelete(e.invoiceData)}}},[e._v("删除")])],1)},o=[]}}]);