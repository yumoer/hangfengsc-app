(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-invoice-invoiceManages"],{"13b3":function(e,t,i){"use strict";var n,a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticStyle:{display:"block",padding:"16upx 30upx 10upx","lihe-height":"2",color:"#333","font-size":"28rpx",background:"rgba(219, 63, 96, 0.4)"}},[e._v("注意：普票电子票填写必填参数，增票要填写全部参数")]),i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[i("v-uni-text",{staticStyle:{color:"#fa436a","margin-right":"10upx"}},[e._v("*")]),e._v("发票抬头")],1),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入发票抬头","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_title,callback:function(t){e.$set(e.invoiceData,"invoice_title",t)},expression:"invoiceData.invoice_title"}})],1),i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[i("v-uni-text",{staticStyle:{color:"#fa436a","margin-right":"6upx"}},[e._v("*")]),e._v("纳税人识别号")],1),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入纳税人识别号","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_org_code,callback:function(t){e.$set(e.invoiceData,"invoice_org_code",t)},expression:"invoiceData.invoice_org_code"}})],1),e.invoiceData.register_address?i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[e._v("注册地址")]),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入注册地址","placeholder-class":"placeholder"},model:{value:e.invoiceData.register_address,callback:function(t){e.$set(e.invoiceData,"register_address",t)},expression:"invoiceData.register_address"}})],1):e._e(),e.invoiceData.invoice_phone?i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[e._v("注册电话")]),i("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"请输入注册电话","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_phone,callback:function(t){e.$set(e.invoiceData,"invoice_phone",t)},expression:"invoiceData.invoice_phone"}})],1):e._e(),e.invoiceData.invoice_bank?i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[e._v("开户银行")]),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入开户银行","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_bank,callback:function(t){e.$set(e.invoiceData,"invoice_bank",t)},expression:"invoiceData.invoice_bank"}})],1):e._e(),e.invoiceData.invoice_bank_code?i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[e._v("开户行账号")]),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入开户行账号","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_bank_code,callback:function(t){e.$set(e.invoiceData,"invoice_bank_code",t)},expression:"invoiceData.invoice_bank_code"}})],1):e._e(),i("v-uni-button",{staticClass:"add-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm(e.invoiceData)}}},[e._v("提交")]),i("v-uni-button",{staticClass:"del-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.condelete(e.invoiceData)}}},[e._v("删除")])],1)},o=[];i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}))},4169:function(e,t,i){var n=i("eb0c");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("664e4e6b",n,!0,{sourceMap:!1,shadowMode:!1})},"626a":function(e,t,i){"use strict";i.r(t);var n=i("ed37"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},"791e":function(e,t,i){"use strict";var n=i("4169"),a=i.n(n);a.a},"9aa9":function(e,t,i){"use strict";i.r(t);var n=i("13b3"),a=i("626a");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("791e");var c,r=i("f0c5"),s=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"186b0c52",null,!1,n["a"],c);t["default"]=s.exports},eb0c:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 页面左右间距 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-186b0c52]{background:#f8f8f8;padding-top:%?16?%}.row[data-v-186b0c52]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff}.row .tit[data-v-186b0c52]{-webkit-flex-shrink:0;flex-shrink:0;width:%?210?%;font-size:%?30?%;color:#303133}.row .input[data-v-186b0c52]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?30?%;color:#303133}.row .icon-shouhuodizhi[data-v-186b0c52]{font-size:%?36?%;color:#909399}.default-row[data-v-186b0c52]{margin-top:%?16?%}.default-row .tit[data-v-186b0c52]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.default-row uni-switch[data-v-186b0c52]{-webkit-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.add-btn[data-v-186b0c52]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.6)}.del-btn[data-v-186b0c52]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}body.?%PAGE?%[data-v-186b0c52]{background:#f8f8f8}',""]),e.exports=t},ed37:function(e,t,i){"use strict";(function(e){var n=i("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var a=n(i("c964")),o=n(i("2fb7")),c={data:function(){return{invoiceData:{type:this.type,invoice_bank:"",invoice_bank_code:"",invoice_org_code:"",invoice_phone:"",invoice_title:"",register_address:""},type:null,manageType:{},form_address:{},default_address_id:!1}},onLoad:function(e){var t="新增发票";"edit"===e.type&&(t="编辑发票",this.invoiceData=JSON.parse(e.data)),this.type=e.data,this.manageType=e.type,uni.setNavigationBarTitle({title:t})},onShow:function(){},methods:{confirm:function(t){var i=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.log(t),t.invoice_title){n.next=4;break}return i.$api.msg("请填写发票抬头"),n.abrupt("return");case 4:if(t.invoice_org_code){n.next=7;break}return i.$api.msg("请填写纳税人识别号"),n.abrupt("return");case 7:i.invoiceData.invoice_title=t.invoice_title,i.invoiceData.invoice_org_code=t.invoice_org_code,""===t.register_address||""===t.invoice_phone||""===t.invoice_bank||""===t.invoice_bank_code?(i.invoiceData.register_address="",i.invoiceData.invoice_phone="",i.invoiceData.invoice_bank="",i.invoiceData.invoice_bank_code=""):(i.invoiceData.register_address=t.register_address,i.invoiceData.invoice_phone=t.invoice_phone,i.invoiceData.invoice_bank=t.invoice_bank,i.invoiceData.invoice_bank_code=t.invoice_bank_code),"edit"===i.manageType?i.setInvoice(t):"add"===i.manageType&&i.getInvoice(t),i.$api.prePage().refreshList(t,i.manageType),i.$api.msg("发票".concat("edit"==i.manageType?"修改":"添加","成功")),setTimeout((function(){uni.navigateBack()}),800);case 14:case"end":return n.stop()}}),n)})))()},setInvoice:function(t){return(0,a.default)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,o.default)({url:"/orders/invoice/"+t.id+"/",data:t,method:"put",resposeType:"json",headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(t){e.log(t)})).catch((function(t){e.log(t)}));case 2:i.sent;case 3:case"end":return i.stop()}}),i)})))()},getInvoice:function(t){return(0,a.default)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,o.default)({url:"/orders/invoice/",method:"post",data:t,headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(t){e.log(t)})).catch((function(t){e.log(t)}));case 2:i.sent;case 3:case"end":return i.stop()}}),i)})))()},condelete:function(t){var i=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,o.default)({url:"/orders/invoice/"+t.id+"/",method:"delete",headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(n){e.log(n),i.$api.prePage().refreshList(t),i.$api.msg("删除成功"),setTimeout((function(){uni.navigateBack()}),800)})).catch((function(t){e.log(t)}));case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))()}}};t.default=c}).call(this,i("5a52")["default"])}}]);