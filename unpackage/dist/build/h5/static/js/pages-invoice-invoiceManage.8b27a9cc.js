(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-invoice-invoiceManage"],{"3cb8":function(e,t,n){var i=n("84d5");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("6ace6d5e",i,!0,{sourceMap:!1,shadowMode:!1})},"4b7b":function(e,t,n){"use strict";(function(e){var i=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var a=i(n("c964")),o=i(n("2fb7")),c={data:function(){return{invoiceData:{invoice_bank:"",invoice_bank_code:"",invoice_org_code:"",invoice_phone:"",invoice_title:"",register_address:""},type:null,manageType:{},form_address:{},default_address_id:!1}},onLoad:function(e){var t="新增普票/电子票";"edit"===e.type&&(t="编辑普票/电子票",this.invoiceData=JSON.parse(e.data)),this.type=e.data,this.manageType=e.type,uni.setNavigationBarTitle({title:t})},onShow:function(){},methods:{confirm:function(t){var n=this;return(0,a.default)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.log(t),t.invoice_title){i.next=4;break}return n.$api.msg("请填写发票抬头"),i.abrupt("return");case 4:if(t.invoice_org_code){i.next=7;break}return n.$api.msg("请填写纳税人识别号"),i.abrupt("return");case 7:n.invoiceData.invoice_title=t.invoice_title,n.invoiceData.invoice_org_code=t.invoice_org_code,n.invoiceData.register_address="",n.invoiceData.invoice_phone="",n.invoiceData.invoice_bank="",n.invoiceData.invoice_bank_code="","edit"===n.manageType?n.setInvoice(t):"add"===n.manageType&&n.getInvoice(t),n.$api.prePage().refreshList(t,n.manageType),n.$api.msg("发票".concat("edit"==n.manageType?"修改":"添加","成功")),setTimeout((function(){uni.navigateBack()}),800);case 17:case"end":return i.stop()}}),i)})))()},setInvoice:function(t){return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,o.default)({url:"/orders/invoice/"+t.id+"/",data:t,method:"put",resposeType:"json",headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(t){e.log(t)})).catch((function(t){e.log(t)}));case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))()},getInvoice:function(t){return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,o.default)({url:"/orders/invoice/",method:"post",data:t,headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(t){e.log(t)})).catch((function(t){e.log(t)}));case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))()},condelete:function(t){var n=this;return(0,a.default)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,o.default)({url:"/orders/invoice/"+t.id+"/",method:"delete",headers:{Authorization:"JWT "+uni.getStorageSync("userInfo").token}}).then((function(i){e.log(i),n.$api.prePage().refreshList(t),n.$api.msg("删除成功"),setTimeout((function(){uni.navigateBack()}),800)})).catch((function(t){e.log(t)}));case 2:i.sent;case 3:case"end":return i.stop()}}),i)})))()}}};t.default=c}).call(this,n("5a52")["default"])},"70dc":function(e,t,n){"use strict";var i,a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"row b-b"},[n("v-uni-text",{staticClass:"tit"},[e._v("发票抬头")]),n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入发票抬头","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_title,callback:function(t){e.$set(e.invoiceData,"invoice_title",t)},expression:"invoiceData.invoice_title"}})],1),n("v-uni-view",{staticClass:"row b-b"},[n("v-uni-text",{staticClass:"tit"},[e._v("纳税人识别号")]),n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入纳税人识别号","placeholder-class":"placeholder"},model:{value:e.invoiceData.invoice_org_code,callback:function(t){e.$set(e.invoiceData,"invoice_org_code",t)},expression:"invoiceData.invoice_org_code"}})],1),n("v-uni-button",{staticClass:"add-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm(e.invoiceData)}}},[e._v("提交")]),n("v-uni-button",{staticClass:"del-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.condelete(e.invoiceData)}}},[e._v("删除")])],1)},o=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}))},"84d5":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 页面左右间距 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-ccd544e6]{background:#f8f8f8;padding-top:%?16?%}.row[data-v-ccd544e6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff}.row .tit[data-v-ccd544e6]{-webkit-flex-shrink:0;flex-shrink:0;width:%?200?%;font-size:%?30?%;color:#303133}.row .input[data-v-ccd544e6]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?30?%;color:#303133}.row .icon-shouhuodizhi[data-v-ccd544e6]{font-size:%?36?%;color:#909399}.default-row[data-v-ccd544e6]{margin-top:%?16?%}.default-row .tit[data-v-ccd544e6]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.default-row uni-switch[data-v-ccd544e6]{-webkit-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.add-btn[data-v-ccd544e6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.6)}.del-btn[data-v-ccd544e6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}body.?%PAGE?%[data-v-ccd544e6]{background:#f8f8f8}',""]),e.exports=t},c6ab:function(e,t,n){"use strict";n.r(t);var i=n("70dc"),a=n("e0d8");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("d4f2");var c,r=n("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"ccd544e6",null,!1,i["a"],c);t["default"]=s.exports},d4f2:function(e,t,n){"use strict";var i=n("3cb8"),a=n.n(i);a.a},e0d8:function(e,t,n){"use strict";n.r(t);var i=n("4b7b"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a}}]);